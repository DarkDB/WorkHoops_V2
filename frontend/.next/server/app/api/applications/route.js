"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/applications/route";
exports.ids = ["app/api/applications/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "jsdom":
/*!************************!*\
  !*** external "jsdom" ***!
  \************************/
/***/ ((module) => {

module.exports = require("jsdom");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "async_hooks":
/*!******************************!*\
  !*** external "async_hooks" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("async_hooks");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fapplications%2Froute&page=%2Fapi%2Fapplications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fapplications%2Froute.ts&appDir=%2Fapp%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fapplications%2Froute&page=%2Fapi%2Fapplications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fapplications%2Froute.ts&appDir=%2Fapp%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _app_frontend_app_api_applications_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/applications/route.ts */ \"(rsc)/./app/api/applications/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/applications/route\",\n        pathname: \"/api/applications\",\n        filename: \"route\",\n        bundlePath: \"app/api/applications/route\"\n    },\n    resolvedPagePath: \"/app/frontend/app/api/applications/route.ts\",\n    nextConfigOutput,\n    userland: _app_frontend_app_api_applications_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/applications/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhcHBsaWNhdGlvbnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFwcGxpY2F0aW9ucyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFwcGxpY2F0aW9ucyUyRnJvdXRlLnRzJmFwcERpcj0lMkZhcHAlMkZmcm9udGVuZCUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGYXBwJTJGZnJvbnRlbmQmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ0w7QUFDeEU7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93b3JraG9vcHMvPzU1YzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2FwcC9mcm9udGVuZC9hcHAvYXBpL2FwcGxpY2F0aW9ucy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXBwbGljYXRpb25zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXBwbGljYXRpb25zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hcHBsaWNhdGlvbnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvYXBwL2Zyb250ZW5kL2FwcC9hcGkvYXBwbGljYXRpb25zL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hcHBsaWNhdGlvbnMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fapplications%2Froute&page=%2Fapi%2Fapplications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fapplications%2Froute.ts&appDir=%2Fapp%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/applications/route.ts":
/*!***************************************!*\
  !*** ./app/api/applications/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var _lib_validations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/validations */ \"(rsc)/./lib/validations.ts\");\n/* harmony import */ var _lib_sanitize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/sanitize */ \"(rsc)/./lib/sanitize.ts\");\n/* harmony import */ var _lib_rate_limit__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/rate-limit */ \"(rsc)/./lib/rate-limit.ts\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/email */ \"(rsc)/./lib/email.ts\");\n\n\n\n\n\n\n\n\n// GET /api/applications - List user's applications\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user?.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Authentication required\"\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const page = Math.max(1, parseInt(searchParams.get(\"page\") || \"1\"));\n        const limit = Math.min(50, Math.max(1, parseInt(searchParams.get(\"limit\") || \"10\")));\n        const skip = (page - 1) * limit;\n        const state = searchParams.get(\"state\");\n        const where = {\n            userId: session.user.id\n        };\n        if (state) where.state = state;\n        const [applications, total] = await Promise.all([\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.application.findMany({\n                where,\n                skip,\n                take: limit,\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                include: {\n                    opportunity: {\n                        select: {\n                            id: true,\n                            slug: true,\n                            title: true,\n                            type: true,\n                            level: true,\n                            city: true,\n                            status: true,\n                            organization: {\n                                select: {\n                                    name: true,\n                                    logo: true\n                                }\n                            }\n                        }\n                    }\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.application.count({\n                where\n            })\n        ]);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            data: applications,\n            pagination: {\n                page,\n                limit,\n                total,\n                pages: Math.ceil(total / limit)\n            }\n        });\n    } catch (error) {\n        console.error(\"Get applications error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST /api/applications - Create new application\nasync function POST(request) {\n    try {\n        // Rate limiting\n        const ip = request.ip || request.headers.get(\"x-forwarded-for\") || \"unknown\";\n        const rateLimit = await (0,_lib_rate_limit__WEBPACK_IMPORTED_MODULE_6__.rateLimitByIP)(ip, 5, 60 * 1000) // 5 applications per minute\n        ;\n        if (!rateLimit.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Too many requests\"\n            }, {\n                status: 429\n            });\n        }\n        // Check authentication and authorization\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user?.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Authentication required\"\n            }, {\n                status: 401\n            });\n        }\n        if (session.user.role !== \"user\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Only users can apply to opportunities\"\n            }, {\n                status: 403\n            });\n        }\n        // Parse and validate request body\n        const body = await request.json();\n        const validation = _lib_validations__WEBPACK_IMPORTED_MODULE_4__.applicationCreateSchema.safeParse(body);\n        if (!validation.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid input\",\n                details: validation.error.errors\n            }, {\n                status: 400\n            });\n        }\n        const { opportunityId, message } = validation.data;\n        // Check if opportunity exists and is open for applications\n        const opportunity = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.opportunity.findUnique({\n            where: {\n                id: opportunityId\n            },\n            include: {\n                organization: {\n                    include: {\n                        owner: {\n                            select: {\n                                email: true,\n                                name: true\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        if (!opportunity) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Opportunity not found\"\n            }, {\n                status: 404\n            });\n        }\n        if (opportunity.status !== \"publicada\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"This opportunity is not accepting applications\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if deadline has passed\n        if (opportunity.deadline && opportunity.deadline < new Date()) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Application deadline has passed\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if user has already applied\n        const existingApplication = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.application.findUnique({\n            where: {\n                userId_opportunityId: {\n                    userId: session.user.id,\n                    opportunityId\n                }\n            }\n        });\n        if (existingApplication) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"You have already applied to this opportunity\"\n            }, {\n                status: 400\n            });\n        }\n        // Create application\n        const application = await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.application.create({\n            data: {\n                userId: session.user.id,\n                opportunityId,\n                message: (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_5__.sanitizeInput)(message),\n                state: \"enviada\"\n            },\n            include: {\n                user: {\n                    select: {\n                        name: true,\n                        email: true\n                    }\n                },\n                opportunity: {\n                    select: {\n                        title: true\n                    }\n                }\n            }\n        });\n        // Create audit log\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_3__.prisma.auditLog.create({\n            data: {\n                actorId: session.user.id,\n                action: \"applied\",\n                entity: \"application\",\n                entityId: application.id,\n                metadata: JSON.stringify({\n                    opportunityId,\n                    opportunityTitle: opportunity.title\n                })\n            }\n        });\n        // Send notification email to organization\n        if (opportunity.organization.owner.email) {\n            try {\n                await (0,_lib_email__WEBPACK_IMPORTED_MODULE_7__.sendApplicationNotificationEmail)(opportunity.organization.owner.email, application.user.name || \"Un candidato\", opportunity.title, application.id);\n            } catch (emailError) {\n                console.error(\"Failed to send application notification email:\", emailError);\n            // Don't fail the application creation if email fails\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(application, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Create application error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVNwRSxRQUFRQyxJQUFJLENBQUNDLEVBQUU7Z0JBQ3hCbUUsUUFBUTtnQkFDUkMsUUFBUTtnQkFDUkMsVUFBVS9DLFlBQVl0QixFQUFFO2dCQUN4QnNFLFVBQVVDLEtBQUtDLFNBQVMsQ0FBQztvQkFDdkJqQjtvQkFDQWtCLGtCQUFrQjdDLFlBQVlHLEtBQUs7Z0JBQ3JDO1lBQ0Y7UUFDRjtRQUVBLDBDQUEwQztRQUMxQyxJQUFJSCxZQUFZTyxZQUFZLENBQUN1QixLQUFLLENBQUNDLEtBQUssRUFBRTtZQUN4QyxJQUFJO2dCQUNGLE1BQU1oRSw0RUFBZ0NBLENBQ3BDaUMsWUFBWU8sWUFBWSxDQUFDdUIsS0FBSyxDQUFDQyxLQUFLLEVBQ3BDckMsWUFBWXZCLElBQUksQ0FBQ3FDLElBQUksSUFBSSxnQkFDekJSLFlBQVlHLEtBQUssRUFDakJULFlBQVl0QixFQUFFO1lBRWxCLEVBQUUsT0FBTzBFLFlBQVk7Z0JBQ25CL0IsUUFBUXpDLEtBQUssQ0FBQyxrREFBa0R3RTtZQUNoRSxxREFBcUQ7WUFDdkQ7UUFDRjtRQUVBLE9BQU90RixxREFBWUEsQ0FBQ2EsSUFBSSxDQUFDcUIsYUFBYTtZQUFFbkIsUUFBUTtRQUFJO0lBRXRELEVBQUUsT0FBT0QsT0FBTztRQUNkeUMsUUFBUXpDLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU9kLHFEQUFZQSxDQUFDYSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBd0IsR0FDakM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93b3JraG9vcHMvLi9hcHAvYXBpL2FwcGxpY2F0aW9ucy9yb3V0ZS50cz85ODJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgnXG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJ0AvbGliL2F1dGgnXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnXG5pbXBvcnQgeyBhcHBsaWNhdGlvbkNyZWF0ZVNjaGVtYSB9IGZyb20gJ0AvbGliL3ZhbGlkYXRpb25zJ1xuaW1wb3J0IHsgc2FuaXRpemVJbnB1dCB9IGZyb20gJ0AvbGliL3Nhbml0aXplJ1xuaW1wb3J0IHsgcmF0ZUxpbWl0QnlJUCB9IGZyb20gJ0AvbGliL3JhdGUtbGltaXQnXG5pbXBvcnQgeyBzZW5kQXBwbGljYXRpb25Ob3RpZmljYXRpb25FbWFpbCB9IGZyb20gJ0AvbGliL2VtYWlsJ1xuXG4vLyBHRVQgL2FwaS9hcHBsaWNhdGlvbnMgLSBMaXN0IHVzZXIncyBhcHBsaWNhdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXG4gICAgY29uc3QgcGFnZSA9IE1hdGgubWF4KDEsIHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ3BhZ2UnKSB8fCAnMScpKVxuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5taW4oNTAsIE1hdGgubWF4KDEsIHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzEwJykpKVxuICAgIGNvbnN0IHNraXAgPSAocGFnZSAtIDEpICogbGltaXRcbiAgICBjb25zdCBzdGF0ZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3N0YXRlJylcblxuICAgIGNvbnN0IHdoZXJlOiBhbnkgPSB7IHVzZXJJZDogc2Vzc2lvbi51c2VyLmlkIH1cbiAgICBpZiAoc3RhdGUpIHdoZXJlLnN0YXRlID0gc3RhdGVcblxuICAgIGNvbnN0IFthcHBsaWNhdGlvbnMsIHRvdGFsXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHByaXNtYS5hcHBsaWNhdGlvbi5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlLFxuICAgICAgICBza2lwLFxuICAgICAgICB0YWtlOiBsaW1pdCxcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgb3Bwb3J0dW5pdHk6IHtcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgc2x1ZzogdHJ1ZSxcbiAgICAgICAgICAgICAgdGl0bGU6IHRydWUsXG4gICAgICAgICAgICAgIHR5cGU6IHRydWUsXG4gICAgICAgICAgICAgIGxldmVsOiB0cnVlLFxuICAgICAgICAgICAgICBjaXR5OiB0cnVlLFxuICAgICAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgICAgIG9yZ2FuaXphdGlvbjoge1xuICAgICAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGxvZ286IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgcHJpc21hLmFwcGxpY2F0aW9uLmNvdW50KHsgd2hlcmUgfSksXG4gICAgXSlcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBkYXRhOiBhcHBsaWNhdGlvbnMsXG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICB0b3RhbCxcbiAgICAgICAgcGFnZXM6IE1hdGguY2VpbCh0b3RhbCAvIGxpbWl0KSxcbiAgICAgIH0sXG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0dldCBhcHBsaWNhdGlvbnMgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4vLyBQT1NUIC9hcGkvYXBwbGljYXRpb25zIC0gQ3JlYXRlIG5ldyBhcHBsaWNhdGlvblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyBSYXRlIGxpbWl0aW5nXG4gICAgY29uc3QgaXAgPSByZXF1ZXN0LmlwIHx8IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8ICd1bmtub3duJ1xuICAgIGNvbnN0IHJhdGVMaW1pdCA9IGF3YWl0IHJhdGVMaW1pdEJ5SVAoaXAsIDUsIDYwICogMTAwMCkgLy8gNSBhcHBsaWNhdGlvbnMgcGVyIG1pbnV0ZVxuXG4gICAgaWYgKCFyYXRlTGltaXQuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnVG9vIG1hbnkgcmVxdWVzdHMnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MjkgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uIGFuZCBhdXRob3JpemF0aW9uXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyPy5pZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmIChzZXNzaW9uLnVzZXIucm9sZSAhPT0gJ3VzZXInKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdPbmx5IHVzZXJzIGNhbiBhcHBseSB0byBvcHBvcnR1bml0aWVzJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAzIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBQYXJzZSBhbmQgdmFsaWRhdGUgcmVxdWVzdCBib2R5XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IGFwcGxpY2F0aW9uQ3JlYXRlU2NoZW1hLnNhZmVQYXJzZShib2R5KVxuXG4gICAgaWYgKCF2YWxpZGF0aW9uLnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgaW5wdXQnLCBkZXRhaWxzOiB2YWxpZGF0aW9uLmVycm9yLmVycm9ycyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCB7IG9wcG9ydHVuaXR5SWQsIG1lc3NhZ2UgfSA9IHZhbGlkYXRpb24uZGF0YVxuXG4gICAgLy8gQ2hlY2sgaWYgb3Bwb3J0dW5pdHkgZXhpc3RzIGFuZCBpcyBvcGVuIGZvciBhcHBsaWNhdGlvbnNcbiAgICBjb25zdCBvcHBvcnR1bml0eSA9IGF3YWl0IHByaXNtYS5vcHBvcnR1bml0eS5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBvcHBvcnR1bml0eUlkIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIG9yZ2FuaXphdGlvbjoge1xuICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIG93bmVyOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDogeyBlbWFpbDogdHJ1ZSwgbmFtZTogdHJ1ZSB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgaWYgKCFvcHBvcnR1bml0eSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnT3Bwb3J0dW5pdHkgbm90IGZvdW5kJyB9LFxuICAgICAgICB7IHN0YXR1czogNDA0IH1cbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAob3Bwb3J0dW5pdHkuc3RhdHVzICE9PSAncHVibGljYWRhJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnVGhpcyBvcHBvcnR1bml0eSBpcyBub3QgYWNjZXB0aW5nIGFwcGxpY2F0aW9ucycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgZGVhZGxpbmUgaGFzIHBhc3NlZFxuICAgIGlmIChvcHBvcnR1bml0eS5kZWFkbGluZSAmJiBvcHBvcnR1bml0eS5kZWFkbGluZSA8IG5ldyBEYXRlKCkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0FwcGxpY2F0aW9uIGRlYWRsaW5lIGhhcyBwYXNzZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHVzZXIgaGFzIGFscmVhZHkgYXBwbGllZFxuICAgIGNvbnN0IGV4aXN0aW5nQXBwbGljYXRpb24gPSBhd2FpdCBwcmlzbWEuYXBwbGljYXRpb24uZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICB1c2VySWRfb3Bwb3J0dW5pdHlJZDoge1xuICAgICAgICAgIHVzZXJJZDogc2Vzc2lvbi51c2VyLmlkLFxuICAgICAgICAgIG9wcG9ydHVuaXR5SWQsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICBpZiAoZXhpc3RpbmdBcHBsaWNhdGlvbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnWW91IGhhdmUgYWxyZWFkeSBhcHBsaWVkIHRvIHRoaXMgb3Bwb3J0dW5pdHknIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhcHBsaWNhdGlvblxuICAgIGNvbnN0IGFwcGxpY2F0aW9uID0gYXdhaXQgcHJpc21hLmFwcGxpY2F0aW9uLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXJJZDogc2Vzc2lvbi51c2VyLmlkLFxuICAgICAgICBvcHBvcnR1bml0eUlkLFxuICAgICAgICBtZXNzYWdlOiBzYW5pdGl6ZUlucHV0KG1lc3NhZ2UpLFxuICAgICAgICBzdGF0ZTogJ2VudmlhZGEnLFxuICAgICAgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG9wcG9ydHVuaXR5OiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICB0aXRsZTogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgLy8gQ3JlYXRlIGF1ZGl0IGxvZ1xuICAgIGF3YWl0IHByaXNtYS5hdWRpdExvZy5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBhY3RvcklkOiBzZXNzaW9uLnVzZXIuaWQsXG4gICAgICAgIGFjdGlvbjogJ2FwcGxpZWQnLFxuICAgICAgICBlbnRpdHk6ICdhcHBsaWNhdGlvbicsXG4gICAgICAgIGVudGl0eUlkOiBhcHBsaWNhdGlvbi5pZCxcbiAgICAgICAgbWV0YWRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBvcHBvcnR1bml0eUlkLFxuICAgICAgICAgIG9wcG9ydHVuaXR5VGl0bGU6IG9wcG9ydHVuaXR5LnRpdGxlLFxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgfSlcblxuICAgIC8vIFNlbmQgbm90aWZpY2F0aW9uIGVtYWlsIHRvIG9yZ2FuaXphdGlvblxuICAgIGlmIChvcHBvcnR1bml0eS5vcmdhbml6YXRpb24ub3duZXIuZW1haWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNlbmRBcHBsaWNhdGlvbk5vdGlmaWNhdGlvbkVtYWlsKFxuICAgICAgICAgIG9wcG9ydHVuaXR5Lm9yZ2FuaXphdGlvbi5vd25lci5lbWFpbCxcbiAgICAgICAgICBhcHBsaWNhdGlvbi51c2VyLm5hbWUgfHwgJ1VuIGNhbmRpZGF0bycsXG4gICAgICAgICAgb3Bwb3J0dW5pdHkudGl0bGUsXG4gICAgICAgICAgYXBwbGljYXRpb24uaWRcbiAgICAgICAgKVxuICAgICAgfSBjYXRjaCAoZW1haWxFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBhcHBsaWNhdGlvbiBub3RpZmljYXRpb24gZW1haWw6JywgZW1haWxFcnJvcilcbiAgICAgICAgLy8gRG9uJ3QgZmFpbCB0aGUgYXBwbGljYXRpb24gY3JlYXRpb24gaWYgZW1haWwgZmFpbHNcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oYXBwbGljYXRpb24sIHsgc3RhdHVzOiAyMDEgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0NyZWF0ZSBhcHBsaWNhdGlvbiBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsInByaXNtYSIsImFwcGxpY2F0aW9uQ3JlYXRlU2NoZW1hIiwic2FuaXRpemVJbnB1dCIsInJhdGVMaW1pdEJ5SVAiLCJzZW5kQXBwbGljYXRpb25Ob3RpZmljYXRpb25FbWFpbCIsIkdFVCIsInJlcXVlc3QiLCJzZXNzaW9uIiwidXNlciIsImlkIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicGFnZSIsIk1hdGgiLCJtYXgiLCJwYXJzZUludCIsImdldCIsImxpbWl0IiwibWluIiwic2tpcCIsInN0YXRlIiwid2hlcmUiLCJ1c2VySWQiLCJhcHBsaWNhdGlvbnMiLCJ0b3RhbCIsIlByb21pc2UiLCJhbGwiLCJhcHBsaWNhdGlvbiIsImZpbmRNYW55IiwidGFrZSIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJpbmNsdWRlIiwib3Bwb3J0dW5pdHkiLCJzZWxlY3QiLCJzbHVnIiwidGl0bGUiLCJ0eXBlIiwibGV2ZWwiLCJjaXR5Iiwib3JnYW5pemF0aW9uIiwibmFtZSIsImxvZ28iLCJjb3VudCIsImRhdGEiLCJwYWdpbmF0aW9uIiwicGFnZXMiLCJjZWlsIiwiY29uc29sZSIsIlBPU1QiLCJpcCIsImhlYWRlcnMiLCJyYXRlTGltaXQiLCJzdWNjZXNzIiwicm9sZSIsImJvZHkiLCJ2YWxpZGF0aW9uIiwic2FmZVBhcnNlIiwiZGV0YWlscyIsImVycm9ycyIsIm9wcG9ydHVuaXR5SWQiLCJtZXNzYWdlIiwiZmluZFVuaXF1ZSIsIm93bmVyIiwiZW1haWwiLCJkZWFkbGluZSIsIkRhdGUiLCJleGlzdGluZ0FwcGxpY2F0aW9uIiwidXNlcklkX29wcG9ydHVuaXR5SWQiLCJjcmVhdGUiLCJhdWRpdExvZyIsImFjdG9ySWQiLCJhY3Rpb24iLCJlbnRpdHkiLCJlbnRpdHlJZCIsIm1ldGFkYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9wcG9ydHVuaXR5VGl0bGUiLCJlbWFpbEVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/applications/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var _auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @auth/prisma-adapter */ \"(rsc)/./node_modules/@auth/prisma-adapter/index.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n\n\n\nconst authOptions = {\n    adapter: (0,_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma),\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/auth/login\"\n    },\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                try {\n                    // For development, we'll create a simple user lookup\n                    // In production, you'd store hashed passwords in the database\n                    const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.user.findUnique({\n                        where: {\n                            email: credentials.email\n                        }\n                    });\n                    if (!user) {\n                        return null;\n                    }\n                    // For now, we'll accept any password for existing users (development only!)\n                    // In production, you'd compare with stored hashed password\n                    return {\n                        id: user.id,\n                        email: user.email,\n                        name: user.name,\n                        role: user.role,\n                        planType: user.planType\n                    };\n                } catch (error) {\n                    console.error(\"Auth error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async session ({ session, token }) {\n            if (token && session.user) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n                session.user.planType = token.planType;\n            }\n            return session;\n        },\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.role = user.role;\n                token.planType = user.planType;\n            }\n            return token;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ29EO0FBQ2Y7QUFDNEI7QUFHMUQsTUFBTUcsY0FBK0I7SUFDMUNDLFNBQVNKLG1FQUFhQSxDQUFDQywrQ0FBTUE7SUFDN0JJLFNBQVM7UUFDUEMsVUFBVTtJQUNaO0lBQ0FDLE9BQU87UUFDTEMsUUFBUTtJQUNWO0lBQ0FDLFdBQVc7UUFDVFAsMkVBQW1CQSxDQUFDO1lBQ2xCUSxNQUFNO1lBQ05DLGFBQWE7Z0JBQ1hDLE9BQU87b0JBQUVDLE9BQU87b0JBQVNDLE1BQU07Z0JBQVE7Z0JBQ3ZDQyxVQUFVO29CQUFFRixPQUFPO29CQUFZQyxNQUFNO2dCQUFXO1lBQ2xEO1lBQ0EsTUFBTUUsV0FBVUwsV0FBVztnQkFDekIsSUFBSSxDQUFDQSxhQUFhQyxTQUFTLENBQUNELGFBQWFJLFVBQVU7b0JBQ2pELE9BQU87Z0JBQ1Q7Z0JBRUEsSUFBSTtvQkFDRixxREFBcUQ7b0JBQ3JELDhEQUE4RDtvQkFDOUQsTUFBTUUsT0FBTyxNQUFNaEIsK0NBQU1BLENBQUNnQixJQUFJLENBQUNDLFVBQVUsQ0FBQzt3QkFDeENDLE9BQU87NEJBQUVQLE9BQU9ELFlBQVlDLEtBQUs7d0JBQUM7b0JBQ3BDO29CQUVBLElBQUksQ0FBQ0ssTUFBTTt3QkFDVCxPQUFPO29CQUNUO29CQUVBLDRFQUE0RTtvQkFDNUUsMkRBQTJEO29CQUMzRCxPQUFPO3dCQUNMRyxJQUFJSCxLQUFLRyxFQUFFO3dCQUNYUixPQUFPSyxLQUFLTCxLQUFLO3dCQUNqQkYsTUFBTU8sS0FBS1AsSUFBSTt3QkFDZlcsTUFBTUosS0FBS0ksSUFBSTt3QkFDZkMsVUFBVUwsS0FBS0ssUUFBUTtvQkFDekI7Z0JBQ0YsRUFBRSxPQUFPQyxPQUFPO29CQUNkQyxRQUFRRCxLQUFLLENBQUMsZUFBZUE7b0JBQzdCLE9BQU87Z0JBQ1Q7WUFDRjtRQUNGO0tBQ0Q7SUFDREUsV0FBVztRQUNULE1BQU1wQixTQUFRLEVBQUVBLE9BQU8sRUFBRXFCLEtBQUssRUFBRTtZQUM5QixJQUFJQSxTQUFTckIsUUFBUVksSUFBSSxFQUFFO2dCQUN6QlosUUFBUVksSUFBSSxDQUFDRyxFQUFFLEdBQUdNLE1BQU1OLEVBQUU7Z0JBQ3hCZixRQUFRWSxJQUFJLENBQVNJLElBQUksR0FBR0ssTUFBTUwsSUFBSTtnQkFDdENoQixRQUFRWSxJQUFJLENBQVNLLFFBQVEsR0FBR0ksTUFBTUosUUFBUTtZQUNsRDtZQUNBLE9BQU9qQjtRQUNUO1FBQ0EsTUFBTXNCLEtBQUksRUFBRUQsS0FBSyxFQUFFVCxJQUFJLEVBQUU7WUFDdkIsSUFBSUEsTUFBTTtnQkFDUlMsTUFBTU4sRUFBRSxHQUFHSCxLQUFLRyxFQUFFO2dCQUNoQk0sTUFBY0wsSUFBSSxHQUFHLEtBQWNBLElBQUk7Z0JBQ3ZDSyxNQUFjSixRQUFRLEdBQUcsS0FBY0EsUUFBUTtZQUNuRDtZQUNBLE9BQU9JO1FBQ1Q7SUFDRjtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93b3JraG9vcHMvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCdcbmltcG9ydCB7IFByaXNtYUFkYXB0ZXIgfSBmcm9tICdAYXV0aC9wcmlzbWEtYWRhcHRlcidcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL3ByaXNtYSdcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHMnXG5pbXBvcnQgeyBjb21wYXJlIH0gZnJvbSAnYmNyeXB0anMnXG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBhZGFwdGVyOiBQcmlzbWFBZGFwdGVyKHByaXNtYSkgYXMgYW55LFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9hdXRoL2xvZ2luJyxcbiAgfSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBuYW1lOiAnY3JlZGVudGlhbHMnLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdQYXNzd29yZCcsIHR5cGU6ICdwYXNzd29yZCcgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gRm9yIGRldmVsb3BtZW50LCB3ZSdsbCBjcmVhdGUgYSBzaW1wbGUgdXNlciBsb29rdXBcbiAgICAgICAgICAvLyBJbiBwcm9kdWN0aW9uLCB5b3UnZCBzdG9yZSBoYXNoZWQgcGFzc3dvcmRzIGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCB9XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBGb3Igbm93LCB3ZSdsbCBhY2NlcHQgYW55IHBhc3N3b3JkIGZvciBleGlzdGluZyB1c2VycyAoZGV2ZWxvcG1lbnQgb25seSEpXG4gICAgICAgICAgLy8gSW4gcHJvZHVjdGlvbiwgeW91J2QgY29tcGFyZSB3aXRoIHN0b3JlZCBoYXNoZWQgcGFzc3dvcmRcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIHJvbGU6IHVzZXIucm9sZSBhcyBcInVzZXJcIiB8IFwib3JnXCIgfCBcImFkbWluXCIsXG4gICAgICAgICAgICBwbGFuVHlwZTogdXNlci5wbGFuVHlwZSxcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQXV0aCBlcnJvcjonLCBlcnJvcilcbiAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgXSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmICh0b2tlbiAmJiBzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQgYXMgc3RyaW5nXG4gICAgICAgIDsoc2Vzc2lvbi51c2VyIGFzIGFueSkucm9sZSA9IHRva2VuLnJvbGUgYXMgc3RyaW5nXG4gICAgICAgIDsoc2Vzc2lvbi51c2VyIGFzIGFueSkucGxhblR5cGUgPSB0b2tlbi5wbGFuVHlwZSBhcyBzdHJpbmdcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uXG4gICAgfSxcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9KSB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWRcbiAgICAgICAgOyh0b2tlbiBhcyBhbnkpLnJvbGUgPSAodXNlciBhcyBhbnkpLnJvbGVcbiAgICAgICAgOyh0b2tlbiBhcyBhbnkpLnBsYW5UeXBlID0gKHVzZXIgYXMgYW55KS5wbGFuVHlwZVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuXG4gICAgfSxcbiAgfSxcbn0iXSwibmFtZXMiOlsiUHJpc21hQWRhcHRlciIsInByaXNtYSIsIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJhdXRoT3B0aW9ucyIsImFkYXB0ZXIiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJwYWdlcyIsInNpZ25JbiIsInByb3ZpZGVycyIsIm5hbWUiLCJjcmVkZW50aWFscyIsImVtYWlsIiwibGFiZWwiLCJ0eXBlIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaWQiLCJyb2xlIiwicGxhblR5cGUiLCJlcnJvciIsImNvbnNvbGUiLCJjYWxsYmFja3MiLCJ0b2tlbiIsImp3dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/email.ts":
/*!**********************!*\
  !*** ./lib/email.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendApplicationNotificationEmail: () => (/* binding */ sendApplicationNotificationEmail),\n/* harmony export */   sendApplicationStateChangeEmail: () => (/* binding */ sendApplicationStateChangeEmail),\n/* harmony export */   sendMagicLinkEmail: () => (/* binding */ sendMagicLinkEmail),\n/* harmony export */   sendPaymentConfirmationEmail: () => (/* binding */ sendPaymentConfirmationEmail)\n/* harmony export */ });\n/* harmony import */ var resend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! resend */ \"(rsc)/./node_modules/resend/dist/index.mjs\");\n\nconst resend = new resend__WEBPACK_IMPORTED_MODULE_0__.Resend(process.env.RESEND_API_KEY);\nasync function sendMagicLinkEmail(email, url) {\n    try {\n        const { data, error } = await resend.emails.send({\n            from: process.env.SUPPORT_EMAIL || \"noreply@workhoops.es\",\n            to: [\n                email\n            ],\n            subject: \"Accede a WorkHoops - Enlace m\\xe1gico\",\n            html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <div style=\"background: linear-gradient(135deg, #FF6A00 0%, #e55a00 100%); padding: 40px 20px; text-align: center;\">\n            <h1 style=\"color: white; margin: 0; font-size: 28px; font-weight: bold;\">WorkHoops</h1>\n            <p style=\"color: rgba(255,255,255,0.9); margin: 10px 0 0 0;\">Tu plataforma de oportunidades de baloncesto</p>\n          </div>\n          \n          <div style=\"padding: 40px 20px; background: white;\">\n            <h2 style=\"color: #111111; margin: 0 0 20px 0;\">Accede a tu cuenta</h2>\n            <p style=\"color: #666; margin: 0 0 30px 0; line-height: 1.6;\">\n              Haz clic en el botón de abajo para acceder a WorkHoops. Este enlace es válido por 30 minutos.\n            </p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n              <a href=\"${url}\" style=\"background: #FF6A00; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block;\">\n                Acceder a WorkHoops\n              </a>\n            </div>\n            \n            <p style=\"color: #999; font-size: 14px; margin: 30px 0 0 0;\">\n              Si no solicitaste este enlace, puedes ignorar este email de forma segura.\n            </p>\n          </div>\n          \n          <div style=\"background: #f8f9fa; padding: 20px; text-align: center; border-top: 1px solid #eee;\">\n            <p style=\"color: #666; font-size: 14px; margin: 0;\">\n              © 2024 WorkHoops. Todos los derechos reservados.\n            </p>\n          </div>\n        </div>\n      `\n        });\n        if (error) {\n            console.error(\"Error sending magic link email:\", error);\n            throw new Error(\"Failed to send magic link email\");\n        }\n        return data;\n    } catch (error) {\n        console.error(\"Error sending magic link email:\", error);\n        throw new Error(\"Failed to send magic link email\");\n    }\n}\nasync function sendApplicationNotificationEmail(organizationEmail, applicantName, opportunityTitle, applicationId) {\n    try {\n        const { data, error } = await resend.emails.send({\n            from: process.env.SUPPORT_EMAIL || \"noreply@workhoops.es\",\n            to: [\n                organizationEmail\n            ],\n            subject: `Nueva aplicación: ${opportunityTitle}`,\n            html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <div style=\"background: #111111; padding: 30px 20px; text-align: center;\">\n            <h1 style=\"color: white; margin: 0; font-size: 24px;\">Nueva Aplicación</h1>\n          </div>\n          \n          <div style=\"padding: 30px 20px; background: white;\">\n            <h2 style=\"color: #111111; margin: 0 0 20px 0;\">Has recibido una nueva aplicación</h2>\n            <p style=\"color: #666; margin: 0 0 20px 0;\">\n              <strong>${applicantName}</strong> ha aplicado a tu oportunidad: <strong>${opportunityTitle}</strong>\n            </p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n              <a href=\"${process.env.APP_URL}/dashboard/applications/${applicationId}\" \n                 style=\"background: #FF6A00; color: white; padding: 12px 25px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;\">\n                Ver Aplicación\n              </a>\n            </div>\n          </div>\n        </div>\n      `\n        });\n        if (error) {\n            console.error(\"Error sending application notification:\", error);\n            throw new Error(\"Failed to send application notification\");\n        }\n        return data;\n    } catch (error) {\n        console.error(\"Error sending application notification:\", error);\n        throw new Error(\"Failed to send application notification\");\n    }\n}\nasync function sendApplicationStateChangeEmail(applicantEmail, applicantName, opportunityTitle, newState) {\n    const stateMessages = {\n        vista: \"Tu aplicaci\\xf3n ha sido vista por el empleador\",\n        rechazada: \"Lamentablemente tu aplicaci\\xf3n no ha sido seleccionada\",\n        aceptada: \"\\xa1Enhorabuena! Tu aplicaci\\xf3n ha sido aceptada\"\n    };\n    const stateColors = {\n        vista: \"#0EA5E9\",\n        rechazada: \"#EF4444\",\n        aceptada: \"#22C55E\"\n    };\n    try {\n        const { data, error } = await resend.emails.send({\n            from: process.env.SUPPORT_EMAIL || \"noreply@workhoops.es\",\n            to: [\n                applicantEmail\n            ],\n            subject: `Actualización de aplicación: ${opportunityTitle}`,\n            html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <div style=\"background: ${stateColors[newState]}; padding: 30px 20px; text-align: center;\">\n            <h1 style=\"color: white; margin: 0; font-size: 24px;\">Actualización de Aplicación</h1>\n          </div>\n          \n          <div style=\"padding: 30px 20px; background: white;\">\n            <h2 style=\"color: #111111; margin: 0 0 20px 0;\">Hola ${applicantName}</h2>\n            <p style=\"color: #666; margin: 0 0 20px 0;\">\n              ${stateMessages[newState]} para la oportunidad: <strong>${opportunityTitle}</strong>\n            </p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n              <a href=\"${process.env.APP_URL}/dashboard/applications\" \n                 style=\"background: #FF6A00; color: white; padding: 12px 25px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;\">\n                Ver Mis Aplicaciones\n              </a>\n            </div>\n          </div>\n        </div>\n      `\n        });\n        if (error) {\n            console.error(\"Error sending application state change email:\", error);\n            throw new Error(\"Failed to send application state change email\");\n        }\n        return data;\n    } catch (error) {\n        console.error(\"Error sending application state change email:\", error);\n        throw new Error(\"Failed to send application state change email\");\n    }\n}\nasync function sendPaymentConfirmationEmail(organizationEmail, organizationName, opportunityTitle, plan) {\n    try {\n        const { data, error } = await resend.emails.send({\n            from: process.env.SUPPORT_EMAIL || \"noreply@workhoops.es\",\n            to: [\n                organizationEmail\n            ],\n            subject: `Pago confirmado - ${opportunityTitle}`,\n            html: `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n          <div style=\"background: #22C55E; padding: 30px 20px; text-align: center;\">\n            <h1 style=\"color: white; margin: 0; font-size: 24px;\">¡Pago Confirmado!</h1>\n          </div>\n          \n          <div style=\"padding: 30px 20px; background: white;\">\n            <h2 style=\"color: #111111; margin: 0 0 20px 0;\">Hola ${organizationName}</h2>\n            <p style=\"color: #666; margin: 0 0 20px 0;\">\n              Tu pago ha sido procesado correctamente y tu oportunidad <strong>${opportunityTitle}</strong> \n              ha sido publicada con el plan <strong>${plan}</strong>.\n            </p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n              <a href=\"${process.env.APP_URL}/dashboard/opportunities\" \n                 style=\"background: #FF6A00; color: white; padding: 12px 25px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;\">\n                Ver Mis Oportunidades\n              </a>\n            </div>\n          </div>\n        </div>\n      `\n        });\n        if (error) {\n            console.error(\"Error sending payment confirmation email:\", error);\n            throw new Error(\"Failed to send payment confirmation email\");\n        }\n        return data;\n    } catch (error) {\n        console.error(\"Error sending payment confirmation email:\", error);\n        throw new Error(\"Failed to send payment confirmation email\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNULEVBQUUsT0FBT0MsT0FBTztRQUNkUSxRQUFRUixLQUFLLENBQUMsaURBQWlEQTtRQUMvRCxNQUFNLElBQUlTLE1BQU07SUFDbEI7QUFDRjtBQUVPLGVBQWVlLDZCQUNwQmIsaUJBQXlCLEVBQ3pCYyxnQkFBd0IsRUFDeEJaLGdCQUF3QixFQUN4QmEsSUFBWTtJQUVaLElBQUk7UUFDRixNQUFNLEVBQUUzQixJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1SLE9BQU9TLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDO1lBQy9DQyxNQUFNVixRQUFRQyxHQUFHLENBQUNVLGFBQWEsSUFBSTtZQUNuQ0MsSUFBSTtnQkFBQ007YUFBa0I7WUFDdkJMLFNBQVMsQ0FBQyxrQkFBa0IsRUFBRU8saUJBQWlCLENBQUM7WUFDaEROLE1BQU0sQ0FBQzs7Ozs7OztpRUFPb0QsRUFBRWtCLGlCQUFpQjs7K0VBRUwsRUFBRVosaUJBQWlCO29EQUM5QyxFQUFFYSxLQUFLOzs7O3VCQUlwQyxFQUFFakMsUUFBUUMsR0FBRyxDQUFDcUIsT0FBTyxDQUFDOzs7Ozs7O01BT3ZDLENBQUM7UUFDSDtRQUVBLElBQUlmLE9BQU87WUFDVFEsUUFBUVIsS0FBSyxDQUFDLDZDQUE2Q0E7WUFDM0QsTUFBTSxJQUFJUyxNQUFNO1FBQ2xCO1FBRUEsT0FBT1Y7SUFDVCxFQUFFLE9BQU9DLE9BQU87UUFDZFEsUUFBUVIsS0FBSyxDQUFDLDZDQUE2Q0E7UUFDM0QsTUFBTSxJQUFJUyxNQUFNO0lBQ2xCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93b3JraG9vcHMvLi9saWIvZW1haWwudHM/ODI4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXNlbmQgfSBmcm9tICdyZXNlbmQnXG5cbmNvbnN0IHJlc2VuZCA9IG5ldyBSZXNlbmQocHJvY2Vzcy5lbnYuUkVTRU5EX0FQSV9LRVkpXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kTWFnaWNMaW5rRW1haWwoZW1haWw6IHN0cmluZywgdXJsOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCByZXNlbmQuZW1haWxzLnNlbmQoe1xuICAgICAgZnJvbTogcHJvY2Vzcy5lbnYuU1VQUE9SVF9FTUFJTCB8fCAnbm9yZXBseUB3b3JraG9vcHMuZXMnLFxuICAgICAgdG86IFtlbWFpbF0sXG4gICAgICBzdWJqZWN0OiAnQWNjZWRlIGEgV29ya0hvb3BzIC0gRW5sYWNlIG3DoWdpY28nLFxuICAgICAgaHRtbDogYFxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0ZGNkEwMCAwJSwgI2U1NWEwMCAxMDAlKTsgcGFkZGluZzogNDBweCAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgICA8aDEgc3R5bGU9XCJjb2xvcjogd2hpdGU7IG1hcmdpbjogMDsgZm9udC1zaXplOiAyOHB4OyBmb250LXdlaWdodDogYm9sZDtcIj5Xb3JrSG9vcHM8L2gxPlxuICAgICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjkpOyBtYXJnaW46IDEwcHggMCAwIDA7XCI+VHUgcGxhdGFmb3JtYSBkZSBvcG9ydHVuaWRhZGVzIGRlIGJhbG9uY2VzdG88L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBzdHlsZT1cInBhZGRpbmc6IDQwcHggMjBweDsgYmFja2dyb3VuZDogd2hpdGU7XCI+XG4gICAgICAgICAgICA8aDIgc3R5bGU9XCJjb2xvcjogIzExMTExMTsgbWFyZ2luOiAwIDAgMjBweCAwO1wiPkFjY2VkZSBhIHR1IGN1ZW50YTwvaDI+XG4gICAgICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiAjNjY2OyBtYXJnaW46IDAgMCAzMHB4IDA7IGxpbmUtaGVpZ2h0OiAxLjY7XCI+XG4gICAgICAgICAgICAgIEhheiBjbGljIGVuIGVsIGJvdMOzbiBkZSBhYmFqbyBwYXJhIGFjY2VkZXIgYSBXb3JrSG9vcHMuIEVzdGUgZW5sYWNlIGVzIHbDoWxpZG8gcG9yIDMwIG1pbnV0b3MuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMzBweCAwO1wiPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiJHt1cmx9XCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjRkY2QTAwOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDE1cHggMzBweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+XG4gICAgICAgICAgICAgICAgQWNjZWRlciBhIFdvcmtIb29wc1xuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogIzk5OTsgZm9udC1zaXplOiAxNHB4OyBtYXJnaW46IDMwcHggMCAwIDA7XCI+XG4gICAgICAgICAgICAgIFNpIG5vIHNvbGljaXRhc3RlIGVzdGUgZW5sYWNlLCBwdWVkZXMgaWdub3JhciBlc3RlIGVtYWlsIGRlIGZvcm1hIHNlZ3VyYS5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogI2Y4ZjlmYTsgcGFkZGluZzogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTtcIj5cbiAgICAgICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMTRweDsgbWFyZ2luOiAwO1wiPlxuICAgICAgICAgICAgICDCqSAyMDI0IFdvcmtIb29wcy4gVG9kb3MgbG9zIGRlcmVjaG9zIHJlc2VydmFkb3MuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYCxcbiAgICB9KVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIG1hZ2ljIGxpbmsgZW1haWw6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzZW5kIG1hZ2ljIGxpbmsgZW1haWwnKVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBtYWdpYyBsaW5rIGVtYWlsOicsIGVycm9yKVxuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNlbmQgbWFnaWMgbGluayBlbWFpbCcpXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRBcHBsaWNhdGlvbk5vdGlmaWNhdGlvbkVtYWlsKFxuICBvcmdhbml6YXRpb25FbWFpbDogc3RyaW5nLFxuICBhcHBsaWNhbnROYW1lOiBzdHJpbmcsXG4gIG9wcG9ydHVuaXR5VGl0bGU6IHN0cmluZyxcbiAgYXBwbGljYXRpb25JZDogc3RyaW5nXG4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCByZXNlbmQuZW1haWxzLnNlbmQoe1xuICAgICAgZnJvbTogcHJvY2Vzcy5lbnYuU1VQUE9SVF9FTUFJTCB8fCAnbm9yZXBseUB3b3JraG9vcHMuZXMnLFxuICAgICAgdG86IFtvcmdhbml6YXRpb25FbWFpbF0sXG4gICAgICBzdWJqZWN0OiBgTnVldmEgYXBsaWNhY2nDs246ICR7b3Bwb3J0dW5pdHlUaXRsZX1gLFxuICAgICAgaHRtbDogYFxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogIzExMTExMTsgcGFkZGluZzogMzBweCAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgICA8aDEgc3R5bGU9XCJjb2xvcjogd2hpdGU7IG1hcmdpbjogMDsgZm9udC1zaXplOiAyNHB4O1wiPk51ZXZhIEFwbGljYWNpw7NuPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMzBweCAyMHB4OyBiYWNrZ3JvdW5kOiB3aGl0ZTtcIj5cbiAgICAgICAgICAgIDxoMiBzdHlsZT1cImNvbG9yOiAjMTExMTExOyBtYXJnaW46IDAgMCAyMHB4IDA7XCI+SGFzIHJlY2liaWRvIHVuYSBudWV2YSBhcGxpY2FjacOzbjwvaDI+XG4gICAgICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiAjNjY2OyBtYXJnaW46IDAgMCAyMHB4IDA7XCI+XG4gICAgICAgICAgICAgIDxzdHJvbmc+JHthcHBsaWNhbnROYW1lfTwvc3Ryb25nPiBoYSBhcGxpY2FkbyBhIHR1IG9wb3J0dW5pZGFkOiA8c3Ryb25nPiR7b3Bwb3J0dW5pdHlUaXRsZX08L3N0cm9uZz5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAzMHB4IDA7XCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIke3Byb2Nlc3MuZW52LkFQUF9VUkx9L2Rhc2hib2FyZC9hcHBsaWNhdGlvbnMvJHthcHBsaWNhdGlvbklkfVwiIFxuICAgICAgICAgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQ6ICNGRjZBMDA7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMTJweCAyNXB4OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IGJvcmRlci1yYWRpdXM6IDZweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGRpc3BsYXk6IGlubGluZS1ibG9jaztcIj5cbiAgICAgICAgICAgICAgICBWZXIgQXBsaWNhY2nDs25cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYCxcbiAgICB9KVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGFwcGxpY2F0aW9uIG5vdGlmaWNhdGlvbjonLCBlcnJvcilcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNlbmQgYXBwbGljYXRpb24gbm90aWZpY2F0aW9uJylcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgYXBwbGljYXRpb24gbm90aWZpY2F0aW9uOicsIGVycm9yKVxuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNlbmQgYXBwbGljYXRpb24gbm90aWZpY2F0aW9uJylcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZEFwcGxpY2F0aW9uU3RhdGVDaGFuZ2VFbWFpbChcbiAgYXBwbGljYW50RW1haWw6IHN0cmluZyxcbiAgYXBwbGljYW50TmFtZTogc3RyaW5nLFxuICBvcHBvcnR1bml0eVRpdGxlOiBzdHJpbmcsXG4gIG5ld1N0YXRlOiBzdHJpbmdcbikge1xuICBjb25zdCBzdGF0ZU1lc3NhZ2VzID0ge1xuICAgIHZpc3RhOiAnVHUgYXBsaWNhY2nDs24gaGEgc2lkbyB2aXN0YSBwb3IgZWwgZW1wbGVhZG9yJyxcbiAgICByZWNoYXphZGE6ICdMYW1lbnRhYmxlbWVudGUgdHUgYXBsaWNhY2nDs24gbm8gaGEgc2lkbyBzZWxlY2Npb25hZGEnLFxuICAgIGFjZXB0YWRhOiAnwqFFbmhvcmFidWVuYSEgVHUgYXBsaWNhY2nDs24gaGEgc2lkbyBhY2VwdGFkYSdcbiAgfVxuXG4gIGNvbnN0IHN0YXRlQ29sb3JzID0ge1xuICAgIHZpc3RhOiAnIzBFQTVFOScsXG4gICAgcmVjaGF6YWRhOiAnI0VGNDQ0NCcsXG4gICAgYWNlcHRhZGE6ICcjMjJDNTVFJ1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCByZXNlbmQuZW1haWxzLnNlbmQoe1xuICAgICAgZnJvbTogcHJvY2Vzcy5lbnYuU1VQUE9SVF9FTUFJTCB8fCAnbm9yZXBseUB3b3JraG9vcHMuZXMnLFxuICAgICAgdG86IFthcHBsaWNhbnRFbWFpbF0sXG4gICAgICBzdWJqZWN0OiBgQWN0dWFsaXphY2nDs24gZGUgYXBsaWNhY2nDs246ICR7b3Bwb3J0dW5pdHlUaXRsZX1gLFxuICAgICAgaHRtbDogYFxuICAgICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bztcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogJHtzdGF0ZUNvbG9yc1tuZXdTdGF0ZSBhcyBrZXlvZiB0eXBlb2Ygc3RhdGVDb2xvcnNdfTsgcGFkZGluZzogMzBweCAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgICA8aDEgc3R5bGU9XCJjb2xvcjogd2hpdGU7IG1hcmdpbjogMDsgZm9udC1zaXplOiAyNHB4O1wiPkFjdHVhbGl6YWNpw7NuIGRlIEFwbGljYWNpw7NuPC9oMT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMzBweCAyMHB4OyBiYWNrZ3JvdW5kOiB3aGl0ZTtcIj5cbiAgICAgICAgICAgIDxoMiBzdHlsZT1cImNvbG9yOiAjMTExMTExOyBtYXJnaW46IDAgMCAyMHB4IDA7XCI+SG9sYSAke2FwcGxpY2FudE5hbWV9PC9oMj5cbiAgICAgICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICM2NjY7IG1hcmdpbjogMCAwIDIwcHggMDtcIj5cbiAgICAgICAgICAgICAgJHtzdGF0ZU1lc3NhZ2VzW25ld1N0YXRlIGFzIGtleW9mIHR5cGVvZiBzdGF0ZU1lc3NhZ2VzXX0gcGFyYSBsYSBvcG9ydHVuaWRhZDogPHN0cm9uZz4ke29wcG9ydHVuaXR5VGl0bGV9PC9zdHJvbmc+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMzBweCAwO1wiPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiJHtwcm9jZXNzLmVudi5BUFBfVVJMfS9kYXNoYm9hcmQvYXBwbGljYXRpb25zXCIgXG4gICAgICAgICAgICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZDogI0ZGNkEwMDsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDI1cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgYm9yZGVyLXJhZGl1czogNnB4OyBmb250LXdlaWdodDogYm9sZDsgZGlzcGxheTogaW5saW5lLWJsb2NrO1wiPlxuICAgICAgICAgICAgICAgIFZlciBNaXMgQXBsaWNhY2lvbmVzXG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGAsXG4gICAgfSlcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBhcHBsaWNhdGlvbiBzdGF0ZSBjaGFuZ2UgZW1haWw6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzZW5kIGFwcGxpY2F0aW9uIHN0YXRlIGNoYW5nZSBlbWFpbCcpXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGFwcGxpY2F0aW9uIHN0YXRlIGNoYW5nZSBlbWFpbDonLCBlcnJvcilcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzZW5kIGFwcGxpY2F0aW9uIHN0YXRlIGNoYW5nZSBlbWFpbCcpXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRQYXltZW50Q29uZmlybWF0aW9uRW1haWwoXG4gIG9yZ2FuaXphdGlvbkVtYWlsOiBzdHJpbmcsXG4gIG9yZ2FuaXphdGlvbk5hbWU6IHN0cmluZyxcbiAgb3Bwb3J0dW5pdHlUaXRsZTogc3RyaW5nLFxuICBwbGFuOiBzdHJpbmdcbikge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHJlc2VuZC5lbWFpbHMuc2VuZCh7XG4gICAgICBmcm9tOiBwcm9jZXNzLmVudi5TVVBQT1JUX0VNQUlMIHx8ICdub3JlcGx5QHdvcmtob29wcy5lcycsXG4gICAgICB0bzogW29yZ2FuaXphdGlvbkVtYWlsXSxcbiAgICAgIHN1YmplY3Q6IGBQYWdvIGNvbmZpcm1hZG8gLSAke29wcG9ydHVuaXR5VGl0bGV9YCxcbiAgICAgIGh0bWw6IGBcbiAgICAgICAgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87XCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT1cImJhY2tncm91bmQ6ICMyMkM1NUU7IHBhZGRpbmc6IDMwcHggMjBweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICAgICAgPGgxIHN0eWxlPVwiY29sb3I6IHdoaXRlOyBtYXJnaW46IDA7IGZvbnQtc2l6ZTogMjRweDtcIj7CoVBhZ28gQ29uZmlybWFkbyE8L2gxPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJwYWRkaW5nOiAzMHB4IDIwcHg7IGJhY2tncm91bmQ6IHdoaXRlO1wiPlxuICAgICAgICAgICAgPGgyIHN0eWxlPVwiY29sb3I6ICMxMTExMTE7IG1hcmdpbjogMCAwIDIwcHggMDtcIj5Ib2xhICR7b3JnYW5pemF0aW9uTmFtZX08L2gyPlxuICAgICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogIzY2NjsgbWFyZ2luOiAwIDAgMjBweCAwO1wiPlxuICAgICAgICAgICAgICBUdSBwYWdvIGhhIHNpZG8gcHJvY2VzYWRvIGNvcnJlY3RhbWVudGUgeSB0dSBvcG9ydHVuaWRhZCA8c3Ryb25nPiR7b3Bwb3J0dW5pdHlUaXRsZX08L3N0cm9uZz4gXG4gICAgICAgICAgICAgIGhhIHNpZG8gcHVibGljYWRhIGNvbiBlbCBwbGFuIDxzdHJvbmc+JHtwbGFufTwvc3Ryb25nPi5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAzMHB4IDA7XCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIke3Byb2Nlc3MuZW52LkFQUF9VUkx9L2Rhc2hib2FyZC9vcHBvcnR1bml0aWVzXCIgXG4gICAgICAgICAgICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZDogI0ZGNkEwMDsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDI1cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgYm9yZGVyLXJhZGl1czogNnB4OyBmb250LXdlaWdodDogYm9sZDsgZGlzcGxheTogaW5saW5lLWJsb2NrO1wiPlxuICAgICAgICAgICAgICAgIFZlciBNaXMgT3BvcnR1bmlkYWRlc1xuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgLFxuICAgIH0pXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgcGF5bWVudCBjb25maXJtYXRpb24gZW1haWw6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzZW5kIHBheW1lbnQgY29uZmlybWF0aW9uIGVtYWlsJylcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgcGF5bWVudCBjb25maXJtYXRpb24gZW1haWw6JywgZXJyb3IpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2VuZCBwYXltZW50IGNvbmZpcm1hdGlvbiBlbWFpbCcpXG4gIH1cbn0iXSwibmFtZXMiOlsiUmVzZW5kIiwicmVzZW5kIiwicHJvY2VzcyIsImVudiIsIlJFU0VORF9BUElfS0VZIiwic2VuZE1hZ2ljTGlua0VtYWlsIiwiZW1haWwiLCJ1cmwiLCJkYXRhIiwiZXJyb3IiLCJlbWFpbHMiLCJzZW5kIiwiZnJvbSIsIlNVUFBPUlRfRU1BSUwiLCJ0byIsInN1YmplY3QiLCJodG1sIiwiY29uc29sZSIsIkVycm9yIiwic2VuZEFwcGxpY2F0aW9uTm90aWZpY2F0aW9uRW1haWwiLCJvcmdhbml6YXRpb25FbWFpbCIsImFwcGxpY2FudE5hbWUiLCJvcHBvcnR1bml0eVRpdGxlIiwiYXBwbGljYXRpb25JZCIsIkFQUF9VUkwiLCJzZW5kQXBwbGljYXRpb25TdGF0ZUNoYW5nZUVtYWlsIiwiYXBwbGljYW50RW1haWwiLCJuZXdTdGF0ZSIsInN0YXRlTWVzc2FnZXMiLCJ2aXN0YSIsInJlY2hhemFkYSIsImFjZXB0YWRhIiwic3RhdGVDb2xvcnMiLCJzZW5kUGF5bWVudENvbmZpcm1hdGlvbkVtYWlsIiwib3JnYW5pemF0aW9uTmFtZSIsInBsYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/email.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        \"query\"\n    ]\n});\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQ1hGLGdCQUFnQkUsTUFBTSxJQUN0QixJQUFJSCx3REFBWUEsQ0FBQztJQUNmSSxLQUFLO1FBQUM7S0FBUTtBQUNoQixHQUFFO0FBRUosSUFBSUMsSUFBeUIsRUFBY0osZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd29ya2hvb3BzLy4vbGliL3ByaXNtYS50cz85ODIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgY29uc3QgcHJpc21hID1cbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/P1xuICBuZXcgUHJpc21hQ2xpZW50KHtcbiAgICBsb2c6IFsncXVlcnknXSxcbiAgfSlcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWEiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSIsImxvZyIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./lib/rate-limit.ts":
/*!***************************!*\
  !*** ./lib/rate-limit.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRateLimitHeaders: () => (/* binding */ getRateLimitHeaders),\n/* harmony export */   rateLimit: () => (/* binding */ rateLimit),\n/* harmony export */   rateLimitByIP: () => (/* binding */ rateLimitByIP),\n/* harmony export */   rateLimitByUser: () => (/* binding */ rateLimitByUser)\n/* harmony export */ });\n// Simple in-memory rate limiter for development\nconst rateLimitStore = new Map();\nasync function rateLimit(identifier, limit = 10, window = 60 * 1000 // 1 minute in milliseconds\n) {\n    const now = Date.now();\n    const windowStart = now - window;\n    // Get or create entries for this identifier\n    let entries = rateLimitStore.get(identifier) || [];\n    // Remove expired entries\n    entries = entries.filter((entry)=>entry.timestamp > windowStart);\n    // Count current requests\n    const currentCount = entries.length;\n    if (currentCount >= limit) {\n        // Find the oldest entry to calculate reset time\n        const oldestEntry = entries[0];\n        const resetTime = oldestEntry ? new Date(oldestEntry.timestamp + window) : new Date(now + window);\n        return {\n            success: false,\n            limit,\n            remaining: 0,\n            reset: resetTime\n        };\n    }\n    // Add current request\n    entries.push({\n        timestamp: now,\n        count: 1\n    });\n    rateLimitStore.set(identifier, entries);\n    return {\n        success: true,\n        limit,\n        remaining: Math.max(0, limit - (currentCount + 1)),\n        reset: new Date(now + window)\n    };\n}\nasync function rateLimitByIP(ip, limit = 10, window = 60 * 1000) {\n    return rateLimit(`ip:${ip}`, limit, window);\n}\nasync function rateLimitByUser(userId, limit = 10, window = 60 * 1000) {\n    return rateLimit(`user:${userId}`, limit, window);\n}\nfunction getRateLimitHeaders(result) {\n    return {\n        \"X-RateLimit-Limit\": result.limit.toString(),\n        \"X-RateLimit-Remaining\": result.remaining.toString(),\n        \"X-RateLimit-Reset\": result.reset.getTime().toString()\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcmF0ZS1saW1pdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsZ0RBQWdEO0FBTWhELE1BQU1BLGlCQUFpQixJQUFJQztBQVNwQixlQUFlQyxVQUNwQkMsVUFBa0IsRUFDbEJDLFFBQWdCLEVBQUUsRUFDbEJDLFNBQWlCLEtBQUssS0FBSywyQkFBMkI7QUFBNUI7SUFFMUIsTUFBTUMsTUFBTUMsS0FBS0QsR0FBRztJQUNwQixNQUFNRSxjQUFjRixNQUFNRDtJQUUxQiw0Q0FBNEM7SUFDNUMsSUFBSUksVUFBVVQsZUFBZVUsR0FBRyxDQUFDUCxlQUFlLEVBQUU7SUFFbEQseUJBQXlCO0lBQ3pCTSxVQUFVQSxRQUFRRSxNQUFNLENBQUNDLENBQUFBLFFBQVNBLE1BQU1DLFNBQVMsR0FBR0w7SUFFcEQseUJBQXlCO0lBQ3pCLE1BQU1NLGVBQWVMLFFBQVFNLE1BQU07SUFFbkMsSUFBSUQsZ0JBQWdCVixPQUFPO1FBQ3pCLGdEQUFnRDtRQUNoRCxNQUFNWSxjQUFjUCxPQUFPLENBQUMsRUFBRTtRQUM5QixNQUFNUSxZQUFZRCxjQUNkLElBQUlULEtBQUtTLFlBQVlILFNBQVMsR0FBR1IsVUFDakMsSUFBSUUsS0FBS0QsTUFBTUQ7UUFFbkIsT0FBTztZQUNMYSxTQUFTO1lBQ1RkO1lBQ0FlLFdBQVc7WUFDWEMsT0FBT0g7UUFDVDtJQUNGO0lBRUEsc0JBQXNCO0lBQ3RCUixRQUFRWSxJQUFJLENBQUM7UUFBRVIsV0FBV1A7UUFBS2dCLE9BQU87SUFBRTtJQUN4Q3RCLGVBQWV1QixHQUFHLENBQUNwQixZQUFZTTtJQUUvQixPQUFPO1FBQ0xTLFNBQVM7UUFDVGQ7UUFDQWUsV0FBV0ssS0FBS0MsR0FBRyxDQUFDLEdBQUdyQixRQUFTVSxDQUFBQSxlQUFlO1FBQy9DTSxPQUFPLElBQUliLEtBQUtELE1BQU1EO0lBQ3hCO0FBQ0Y7QUFFTyxlQUFlcUIsY0FDcEJDLEVBQVUsRUFDVnZCLFFBQWdCLEVBQUUsRUFDbEJDLFNBQWlCLEtBQUssSUFBSTtJQUUxQixPQUFPSCxVQUFVLENBQUMsR0FBRyxFQUFFeUIsR0FBRyxDQUFDLEVBQUV2QixPQUFPQztBQUN0QztBQUVPLGVBQWV1QixnQkFDcEJDLE1BQWMsRUFDZHpCLFFBQWdCLEVBQUUsRUFDbEJDLFNBQWlCLEtBQUssSUFBSTtJQUUxQixPQUFPSCxVQUFVLENBQUMsS0FBSyxFQUFFMkIsT0FBTyxDQUFDLEVBQUV6QixPQUFPQztBQUM1QztBQUVPLFNBQVN5QixvQkFBb0JDLE1BQXVCO0lBQ3pELE9BQU87UUFDTCxxQkFBcUJBLE9BQU8zQixLQUFLLENBQUM0QixRQUFRO1FBQzFDLHlCQUF5QkQsT0FBT1osU0FBUyxDQUFDYSxRQUFRO1FBQ2xELHFCQUFxQkQsT0FBT1gsS0FBSyxDQUFDYSxPQUFPLEdBQUdELFFBQVE7SUFDdEQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3dvcmtob29wcy8uL2xpYi9yYXRlLWxpbWl0LnRzPzIyYzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2ltcGxlIGluLW1lbW9yeSByYXRlIGxpbWl0ZXIgZm9yIGRldmVsb3BtZW50XG5pbnRlcmZhY2UgUmF0ZUxpbWl0RW50cnkge1xuICB0aW1lc3RhbXA6IG51bWJlclxuICBjb3VudDogbnVtYmVyXG59XG5cbmNvbnN0IHJhdGVMaW1pdFN0b3JlID0gbmV3IE1hcDxzdHJpbmcsIFJhdGVMaW1pdEVudHJ5W10+KClcblxuZXhwb3J0IGludGVyZmFjZSBSYXRlTGltaXRSZXN1bHQge1xuICBzdWNjZXNzOiBib29sZWFuXG4gIGxpbWl0OiBudW1iZXJcbiAgcmVtYWluaW5nOiBudW1iZXJcbiAgcmVzZXQ6IERhdGVcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJhdGVMaW1pdChcbiAgaWRlbnRpZmllcjogc3RyaW5nLFxuICBsaW1pdDogbnVtYmVyID0gMTAsXG4gIHdpbmRvdzogbnVtYmVyID0gNjAgKiAxMDAwIC8vIDEgbWludXRlIGluIG1pbGxpc2Vjb25kc1xuKTogUHJvbWlzZTxSYXRlTGltaXRSZXN1bHQ+IHtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICBjb25zdCB3aW5kb3dTdGFydCA9IG5vdyAtIHdpbmRvd1xuICBcbiAgLy8gR2V0IG9yIGNyZWF0ZSBlbnRyaWVzIGZvciB0aGlzIGlkZW50aWZpZXJcbiAgbGV0IGVudHJpZXMgPSByYXRlTGltaXRTdG9yZS5nZXQoaWRlbnRpZmllcikgfHwgW11cbiAgXG4gIC8vIFJlbW92ZSBleHBpcmVkIGVudHJpZXNcbiAgZW50cmllcyA9IGVudHJpZXMuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LnRpbWVzdGFtcCA+IHdpbmRvd1N0YXJ0KVxuICBcbiAgLy8gQ291bnQgY3VycmVudCByZXF1ZXN0c1xuICBjb25zdCBjdXJyZW50Q291bnQgPSBlbnRyaWVzLmxlbmd0aFxuICBcbiAgaWYgKGN1cnJlbnRDb3VudCA+PSBsaW1pdCkge1xuICAgIC8vIEZpbmQgdGhlIG9sZGVzdCBlbnRyeSB0byBjYWxjdWxhdGUgcmVzZXQgdGltZVxuICAgIGNvbnN0IG9sZGVzdEVudHJ5ID0gZW50cmllc1swXVxuICAgIGNvbnN0IHJlc2V0VGltZSA9IG9sZGVzdEVudHJ5IFxuICAgICAgPyBuZXcgRGF0ZShvbGRlc3RFbnRyeS50aW1lc3RhbXAgKyB3aW5kb3cpXG4gICAgICA6IG5ldyBEYXRlKG5vdyArIHdpbmRvdylcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBsaW1pdCxcbiAgICAgIHJlbWFpbmluZzogMCxcbiAgICAgIHJlc2V0OiByZXNldFRpbWUsXG4gICAgfVxuICB9XG4gIFxuICAvLyBBZGQgY3VycmVudCByZXF1ZXN0XG4gIGVudHJpZXMucHVzaCh7IHRpbWVzdGFtcDogbm93LCBjb3VudDogMSB9KVxuICByYXRlTGltaXRTdG9yZS5zZXQoaWRlbnRpZmllciwgZW50cmllcylcbiAgXG4gIHJldHVybiB7XG4gICAgc3VjY2VzczogdHJ1ZSxcbiAgICBsaW1pdCxcbiAgICByZW1haW5pbmc6IE1hdGgubWF4KDAsIGxpbWl0IC0gKGN1cnJlbnRDb3VudCArIDEpKSxcbiAgICByZXNldDogbmV3IERhdGUobm93ICsgd2luZG93KSxcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmF0ZUxpbWl0QnlJUChcbiAgaXA6IHN0cmluZyxcbiAgbGltaXQ6IG51bWJlciA9IDEwLFxuICB3aW5kb3c6IG51bWJlciA9IDYwICogMTAwMFxuKTogUHJvbWlzZTxSYXRlTGltaXRSZXN1bHQ+IHtcbiAgcmV0dXJuIHJhdGVMaW1pdChgaXA6JHtpcH1gLCBsaW1pdCwgd2luZG93KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmF0ZUxpbWl0QnlVc2VyKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgbGltaXQ6IG51bWJlciA9IDEwLFxuICB3aW5kb3c6IG51bWJlciA9IDYwICogMTAwMFxuKTogUHJvbWlzZTxSYXRlTGltaXRSZXN1bHQ+IHtcbiAgcmV0dXJuIHJhdGVMaW1pdChgdXNlcjoke3VzZXJJZH1gLCBsaW1pdCwgd2luZG93KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmF0ZUxpbWl0SGVhZGVycyhyZXN1bHQ6IFJhdGVMaW1pdFJlc3VsdCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICByZXR1cm4ge1xuICAgICdYLVJhdGVMaW1pdC1MaW1pdCc6IHJlc3VsdC5saW1pdC50b1N0cmluZygpLFxuICAgICdYLVJhdGVMaW1pdC1SZW1haW5pbmcnOiByZXN1bHQucmVtYWluaW5nLnRvU3RyaW5nKCksXG4gICAgJ1gtUmF0ZUxpbWl0LVJlc2V0JzogcmVzdWx0LnJlc2V0LmdldFRpbWUoKS50b1N0cmluZygpLFxuICB9XG59Il0sIm5hbWVzIjpbInJhdGVMaW1pdFN0b3JlIiwiTWFwIiwicmF0ZUxpbWl0IiwiaWRlbnRpZmllciIsImxpbWl0Iiwid2luZG93Iiwibm93IiwiRGF0ZSIsIndpbmRvd1N0YXJ0IiwiZW50cmllcyIsImdldCIsImZpbHRlciIsImVudHJ5IiwidGltZXN0YW1wIiwiY3VycmVudENvdW50IiwibGVuZ3RoIiwib2xkZXN0RW50cnkiLCJyZXNldFRpbWUiLCJzdWNjZXNzIiwicmVtYWluaW5nIiwicmVzZXQiLCJwdXNoIiwiY291bnQiLCJzZXQiLCJNYXRoIiwibWF4IiwicmF0ZUxpbWl0QnlJUCIsImlwIiwicmF0ZUxpbWl0QnlVc2VyIiwidXNlcklkIiwiZ2V0UmF0ZUxpbWl0SGVhZGVycyIsInJlc3VsdCIsInRvU3RyaW5nIiwiZ2V0VGltZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/rate-limit.ts\n");

/***/ }),

/***/ "(rsc)/./lib/sanitize.ts":
/*!*************************!*\
  !*** ./lib/sanitize.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sanitizeFileName: () => (/* binding */ sanitizeFileName),\n/* harmony export */   sanitizeHtml: () => (/* binding */ sanitizeHtml),\n/* harmony export */   sanitizeInput: () => (/* binding */ sanitizeInput),\n/* harmony export */   sanitizeMarkdown: () => (/* binding */ sanitizeMarkdown),\n/* harmony export */   sanitizeSearchQuery: () => (/* binding */ sanitizeSearchQuery),\n/* harmony export */   sanitizeText: () => (/* binding */ sanitizeText),\n/* harmony export */   sanitizeUrl: () => (/* binding */ sanitizeUrl)\n/* harmony export */ });\n/* harmony import */ var isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! isomorphic-dompurify */ \"(rsc)/../node_modules/isomorphic-dompurify/index.js\");\n/* harmony import */ var isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_0__);\n\n// Server-side DOMPurify configuration\nconst purifyConfig = {\n    ALLOWED_TAGS: [\n        \"p\",\n        \"br\",\n        \"strong\",\n        \"em\",\n        \"u\",\n        \"ol\",\n        \"ul\",\n        \"li\",\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\",\n        \"blockquote\",\n        \"code\",\n        \"pre\"\n    ],\n    ALLOWED_ATTR: [],\n    ALLOW_DATA_ATTR: false,\n    ALLOW_UNKNOWN_PROTOCOLS: false,\n    RETURN_DOM: false,\n    RETURN_DOM_FRAGMENT: false,\n    SANITIZE_DOM: true\n};\n/**\n * Sanitize HTML content to prevent XSS attacks\n */ function sanitizeHtml(dirty) {\n    return isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_0___default().sanitize(dirty, purifyConfig);\n}\n/**\n * Sanitize plain text by removing HTML tags and escaping special characters\n */ function sanitizeText(text) {\n    return text.replace(/<[^>]*>/g, \"\") // Remove HTML tags\n    .replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\").trim();\n}\n/**\n * Sanitize markdown content - allow basic markdown but prevent XSS\n */ function sanitizeMarkdown(markdown) {\n    // First sanitize any HTML that might be in the markdown\n    const cleaned = isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_0___default().sanitize(markdown, {\n        ...purifyConfig,\n        ALLOWED_TAGS: [\n            ...purifyConfig.ALLOWED_TAGS,\n            \"a\"\n        ],\n        ALLOWED_ATTR: [\n            \"href\",\n            \"title\"\n        ],\n        ALLOWED_URI_REGEXP: /^https?:\\/\\//\n    });\n    return cleaned;\n}\n/**\n * Validate and sanitize file names\n */ function sanitizeFileName(fileName) {\n    return fileName.replace(/[^a-zA-Z0-9.-]/g, \"_\") // Replace special chars with underscore\n    .replace(/_{2,}/g, \"_\") // Replace multiple underscores with single\n    .replace(/^_+|_+$/g, \"\") // Remove leading/trailing underscores\n    .toLowerCase();\n}\n/**\n * Sanitize search queries to prevent injection\n */ function sanitizeSearchQuery(query) {\n    return query.replace(/[^\\w\\s-áéíóúüñç]/gi, \"\") // Allow alphanumeric, spaces, hyphens and Spanish chars\n    .replace(/\\s+/g, \" \") // Replace multiple spaces with single\n    .trim().slice(0, 100) // Limit length\n    ;\n}\n/**\n * Sanitize user input for database queries\n */ function sanitizeInput(input) {\n    return input.trim().replace(/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F]/g, \"\") // Remove control characters\n    .slice(0, 1000) // Reasonable length limit\n    ;\n}\n/**\n * Validate and sanitize URLs\n */ function sanitizeUrl(url) {\n    try {\n        const parsed = new URL(url);\n        // Only allow HTTP and HTTPS protocols\n        if (![\n            \"http:\",\n            \"https:\"\n        ].includes(parsed.protocol)) {\n            return null;\n        }\n        return parsed.toString();\n    } catch  {\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2FuaXRpemUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTRDO0FBRTVDLHNDQUFzQztBQUN0QyxNQUFNQyxlQUFlO0lBQ25CQyxjQUFjO1FBQ1o7UUFBSztRQUFNO1FBQVU7UUFBTTtRQUFLO1FBQU07UUFBTTtRQUM1QztRQUFNO1FBQU07UUFBTTtRQUFNO1FBQU07UUFDOUI7UUFBYztRQUFRO0tBQ3ZCO0lBQ0RDLGNBQWMsRUFBRTtJQUNoQkMsaUJBQWlCO0lBQ2pCQyx5QkFBeUI7SUFDekJDLFlBQVk7SUFDWkMscUJBQXFCO0lBQ3JCQyxjQUFjO0FBQ2hCO0FBRUE7O0NBRUMsR0FDTSxTQUFTQyxhQUFhQyxLQUFhO0lBQ3hDLE9BQU9WLG9FQUFrQixDQUFDVSxPQUFPVDtBQUNuQztBQUVBOztDQUVDLEdBQ00sU0FBU1csYUFBYUMsSUFBWTtJQUN2QyxPQUFPQSxLQUNKQyxPQUFPLENBQUMsWUFBWSxJQUFJLG1CQUFtQjtLQUMzQ0EsT0FBTyxDQUFDLE1BQU0sU0FDZEEsT0FBTyxDQUFDLE1BQU0sUUFDZEEsT0FBTyxDQUFDLE1BQU0sUUFDZEEsT0FBTyxDQUFDLE1BQU0sVUFDZEEsT0FBTyxDQUFDLE1BQU0sVUFDZEMsSUFBSTtBQUNUO0FBRUE7O0NBRUMsR0FDTSxTQUFTQyxpQkFBaUJDLFFBQWdCO0lBQy9DLHdEQUF3RDtJQUN4RCxNQUFNQyxVQUFVbEIsb0VBQWtCLENBQUNpQixVQUFVO1FBQzNDLEdBQUdoQixZQUFZO1FBQ2ZDLGNBQWM7ZUFBSUQsYUFBYUMsWUFBWTtZQUFFO1NBQUk7UUFDakRDLGNBQWM7WUFBQztZQUFRO1NBQVE7UUFDL0JnQixvQkFBb0I7SUFDdEI7SUFFQSxPQUFPRDtBQUNUO0FBRUE7O0NBRUMsR0FDTSxTQUFTRSxpQkFBaUJDLFFBQWdCO0lBQy9DLE9BQU9BLFNBQ0pQLE9BQU8sQ0FBQyxtQkFBbUIsS0FBSyx3Q0FBd0M7S0FDeEVBLE9BQU8sQ0FBQyxVQUFVLEtBQUssMkNBQTJDO0tBQ2xFQSxPQUFPLENBQUMsWUFBWSxJQUFJLHNDQUFzQztLQUM5RFEsV0FBVztBQUNoQjtBQUVBOztDQUVDLEdBQ00sU0FBU0Msb0JBQW9CQyxLQUFhO0lBQy9DLE9BQU9BLE1BQ0pWLE9BQU8sQ0FBQyxzQkFBc0IsSUFBSSx3REFBd0Q7S0FDMUZBLE9BQU8sQ0FBQyxRQUFRLEtBQUssc0NBQXNDO0tBQzNEQyxJQUFJLEdBQ0pVLEtBQUssQ0FBQyxHQUFHLEtBQUssZUFBZTs7QUFDbEM7QUFFQTs7Q0FFQyxHQUNNLFNBQVNDLGNBQWNDLEtBQWE7SUFDekMsT0FBT0EsTUFDSlosSUFBSSxHQUNKRCxPQUFPLENBQUMscUNBQXFDLElBQUksNEJBQTRCO0tBQzdFVyxLQUFLLENBQUMsR0FBRyxNQUFNLDBCQUEwQjs7QUFDOUM7QUFFQTs7Q0FFQyxHQUNNLFNBQVNHLFlBQVlDLEdBQVc7SUFDckMsSUFBSTtRQUNGLE1BQU1DLFNBQVMsSUFBSUMsSUFBSUY7UUFFdkIsc0NBQXNDO1FBQ3RDLElBQUksQ0FBQztZQUFDO1lBQVM7U0FBUyxDQUFDRyxRQUFRLENBQUNGLE9BQU9HLFFBQVEsR0FBRztZQUNsRCxPQUFPO1FBQ1Q7UUFFQSxPQUFPSCxPQUFPSSxRQUFRO0lBQ3hCLEVBQUUsT0FBTTtRQUNOLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd29ya2hvb3BzLy4vbGliL3Nhbml0aXplLnRzPzlhMWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERPTVB1cmlmeSBmcm9tICdpc29tb3JwaGljLWRvbXB1cmlmeSdcblxuLy8gU2VydmVyLXNpZGUgRE9NUHVyaWZ5IGNvbmZpZ3VyYXRpb25cbmNvbnN0IHB1cmlmeUNvbmZpZyA9IHtcbiAgQUxMT1dFRF9UQUdTOiBbXG4gICAgJ3AnLCAnYnInLCAnc3Ryb25nJywgJ2VtJywgJ3UnLCAnb2wnLCAndWwnLCAnbGknLCBcbiAgICAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLFxuICAgICdibG9ja3F1b3RlJywgJ2NvZGUnLCAncHJlJ1xuICBdLFxuICBBTExPV0VEX0FUVFI6IFtdLFxuICBBTExPV19EQVRBX0FUVFI6IGZhbHNlLFxuICBBTExPV19VTktOT1dOX1BST1RPQ09MUzogZmFsc2UsXG4gIFJFVFVSTl9ET006IGZhbHNlLFxuICBSRVRVUk5fRE9NX0ZSQUdNRU5UOiBmYWxzZSxcbiAgU0FOSVRJWkVfRE9NOiB0cnVlLFxufVxuXG4vKipcbiAqIFNhbml0aXplIEhUTUwgY29udGVudCB0byBwcmV2ZW50IFhTUyBhdHRhY2tzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZUh0bWwoZGlydHk6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBET01QdXJpZnkuc2FuaXRpemUoZGlydHksIHB1cmlmeUNvbmZpZylcbn1cblxuLyoqXG4gKiBTYW5pdGl6ZSBwbGFpbiB0ZXh0IGJ5IHJlbW92aW5nIEhUTUwgdGFncyBhbmQgZXNjYXBpbmcgc3BlY2lhbCBjaGFyYWN0ZXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZVRleHQodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHRleHRcbiAgICAucmVwbGFjZSgvPFtePl0qPi9nLCAnJykgLy8gUmVtb3ZlIEhUTUwgdGFnc1xuICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgLnJlcGxhY2UoLycvZywgJyYjeDI3OycpXG4gICAgLnRyaW0oKVxufVxuXG4vKipcbiAqIFNhbml0aXplIG1hcmtkb3duIGNvbnRlbnQgLSBhbGxvdyBiYXNpYyBtYXJrZG93biBidXQgcHJldmVudCBYU1NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplTWFya2Rvd24obWFya2Rvd246IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIEZpcnN0IHNhbml0aXplIGFueSBIVE1MIHRoYXQgbWlnaHQgYmUgaW4gdGhlIG1hcmtkb3duXG4gIGNvbnN0IGNsZWFuZWQgPSBET01QdXJpZnkuc2FuaXRpemUobWFya2Rvd24sIHtcbiAgICAuLi5wdXJpZnlDb25maWcsXG4gICAgQUxMT1dFRF9UQUdTOiBbLi4ucHVyaWZ5Q29uZmlnLkFMTE9XRURfVEFHUywgJ2EnXSxcbiAgICBBTExPV0VEX0FUVFI6IFsnaHJlZicsICd0aXRsZSddLFxuICAgIEFMTE9XRURfVVJJX1JFR0VYUDogL15odHRwcz86XFwvXFwvLyxcbiAgfSlcbiAgXG4gIHJldHVybiBjbGVhbmVkXG59XG5cbi8qKlxuICogVmFsaWRhdGUgYW5kIHNhbml0aXplIGZpbGUgbmFtZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplRmlsZU5hbWUoZmlsZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBmaWxlTmFtZVxuICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOS4tXS9nLCAnXycpIC8vIFJlcGxhY2Ugc3BlY2lhbCBjaGFycyB3aXRoIHVuZGVyc2NvcmVcbiAgICAucmVwbGFjZSgvX3syLH0vZywgJ18nKSAvLyBSZXBsYWNlIG11bHRpcGxlIHVuZGVyc2NvcmVzIHdpdGggc2luZ2xlXG4gICAgLnJlcGxhY2UoL15fK3xfKyQvZywgJycpIC8vIFJlbW92ZSBsZWFkaW5nL3RyYWlsaW5nIHVuZGVyc2NvcmVzXG4gICAgLnRvTG93ZXJDYXNlKClcbn1cblxuLyoqXG4gKiBTYW5pdGl6ZSBzZWFyY2ggcXVlcmllcyB0byBwcmV2ZW50IGluamVjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVTZWFyY2hRdWVyeShxdWVyeTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHF1ZXJ5XG4gICAgLnJlcGxhY2UoL1teXFx3XFxzLcOhw6nDrcOzw7rDvMOxw6ddL2dpLCAnJykgLy8gQWxsb3cgYWxwaGFudW1lcmljLCBzcGFjZXMsIGh5cGhlbnMgYW5kIFNwYW5pc2ggY2hhcnNcbiAgICAucmVwbGFjZSgvXFxzKy9nLCAnICcpIC8vIFJlcGxhY2UgbXVsdGlwbGUgc3BhY2VzIHdpdGggc2luZ2xlXG4gICAgLnRyaW0oKVxuICAgIC5zbGljZSgwLCAxMDApIC8vIExpbWl0IGxlbmd0aFxufVxuXG4vKipcbiAqIFNhbml0aXplIHVzZXIgaW5wdXQgZm9yIGRhdGFiYXNlIHF1ZXJpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplSW5wdXQoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBpbnB1dFxuICAgIC50cmltKClcbiAgICAucmVwbGFjZSgvW1xceDAwLVxceDA4XFx4MEJcXHgwQ1xceDBFLVxceDFGXFx4N0ZdL2csICcnKSAvLyBSZW1vdmUgY29udHJvbCBjaGFyYWN0ZXJzXG4gICAgLnNsaWNlKDAsIDEwMDApIC8vIFJlYXNvbmFibGUgbGVuZ3RoIGxpbWl0XG59XG5cbi8qKlxuICogVmFsaWRhdGUgYW5kIHNhbml0aXplIFVSTHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplVXJsKHVybDogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkID0gbmV3IFVSTCh1cmwpXG4gICAgXG4gICAgLy8gT25seSBhbGxvdyBIVFRQIGFuZCBIVFRQUyBwcm90b2NvbHNcbiAgICBpZiAoIVsnaHR0cDonLCAnaHR0cHM6J10uaW5jbHVkZXMocGFyc2VkLnByb3RvY29sKSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHBhcnNlZC50b1N0cmluZygpXG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn0iXSwibmFtZXMiOlsiRE9NUHVyaWZ5IiwicHVyaWZ5Q29uZmlnIiwiQUxMT1dFRF9UQUdTIiwiQUxMT1dFRF9BVFRSIiwiQUxMT1dfREFUQV9BVFRSIiwiQUxMT1dfVU5LTk9XTl9QUk9UT0NPTFMiLCJSRVRVUk5fRE9NIiwiUkVUVVJOX0RPTV9GUkFHTUVOVCIsIlNBTklUSVpFX0RPTSIsInNhbml0aXplSHRtbCIsImRpcnR5Iiwic2FuaXRpemUiLCJzYW5pdGl6ZVRleHQiLCJ0ZXh0IiwicmVwbGFjZSIsInRyaW0iLCJzYW5pdGl6ZU1hcmtkb3duIiwibWFya2Rvd24iLCJjbGVhbmVkIiwiQUxMT1dFRF9VUklfUkVHRVhQIiwic2FuaXRpemVGaWxlTmFtZSIsImZpbGVOYW1lIiwidG9Mb3dlckNhc2UiLCJzYW5pdGl6ZVNlYXJjaFF1ZXJ5IiwicXVlcnkiLCJzbGljZSIsInNhbml0aXplSW5wdXQiLCJpbnB1dCIsInNhbml0aXplVXJsIiwidXJsIiwicGFyc2VkIiwiVVJMIiwiaW5jbHVkZXMiLCJwcm90b2NvbCIsInRvU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/sanitize.ts\n");

/***/ }),

/***/ "(rsc)/./lib/validations.ts":
/*!****************************!*\
  !*** ./lib/validations.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applicationCreateSchema: () => (/* binding */ applicationCreateSchema),\n/* harmony export */   applicationUpdateSchema: () => (/* binding */ applicationUpdateSchema),\n/* harmony export */   fileUploadSchema: () => (/* binding */ fileUploadSchema),\n/* harmony export */   forgotPasswordSchema: () => (/* binding */ forgotPasswordSchema),\n/* harmony export */   opportunityCreateSchema: () => (/* binding */ opportunityCreateSchema),\n/* harmony export */   organizationCreateSchema: () => (/* binding */ organizationCreateSchema),\n/* harmony export */   resetPasswordSchema: () => (/* binding */ resetPasswordSchema),\n/* harmony export */   signInSchema: () => (/* binding */ signInSchema),\n/* harmony export */   signUpSchema: () => (/* binding */ signUpSchema),\n/* harmony export */   userUpdateSchema: () => (/* binding */ userUpdateSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\nconst opportunityCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(5, \"El t\\xedtulo debe tener al menos 5 caracteres\").max(100, \"El t\\xedtulo no puede superar los 100 caracteres\"),\n    type: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"empleo\",\n        \"prueba\",\n        \"torneo\",\n        \"clinica\",\n        \"beca\",\n        \"patrocinio\"\n    ]),\n    organizationId: zod__WEBPACK_IMPORTED_MODULE_0__.string().cuid(\"ID de organizaci\\xf3n inv\\xe1lido\"),\n    level: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"amateur\",\n        \"semi_pro\",\n        \"cantera\",\n        \"pro\"\n    ]),\n    city: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, \"La ciudad es requerida\"),\n    region: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    country: zod__WEBPACK_IMPORTED_MODULE_0__.string().default(\"Espa\\xf1a\"),\n    modality: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"presencial\",\n        \"online\",\n        \"mixta\"\n    ]).default(\"presencial\"),\n    remuneration: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        min: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n        max: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n        currency: zod__WEBPACK_IMPORTED_MODULE_0__.string().default(\"EUR\"),\n        type: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n            \"monthly\",\n            \"annual\",\n            \"per_event\"\n        ]).default(\"annual\")\n    }).optional(),\n    benefits: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(50, \"La descripci\\xf3n debe tener al menos 50 caracteres\"),\n    requirements: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    deadline: zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime().optional(),\n    tags: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).max(10, \"M\\xe1ximo 10 etiquetas\").default([])\n});\nconst applicationCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    opportunityId: zod__WEBPACK_IMPORTED_MODULE_0__.string().cuid(\"ID de oportunidad inv\\xe1lido\"),\n    message: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(10, \"El mensaje debe tener al menos 10 caracteres\").max(1000, \"El mensaje no puede superar los 1000 caracteres\")\n});\nconst applicationUpdateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    state: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"enviada\",\n        \"vista\",\n        \"rechazada\",\n        \"aceptada\"\n    ])\n});\nconst organizationCreateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, \"El nombre debe tener al menos 2 caracteres\").max(100, \"El nombre no puede superar los 100 caracteres\"),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, \"La descripci\\xf3n no puede superar los 500 caracteres\").optional(),\n    logo: zod__WEBPACK_IMPORTED_MODULE_0__.string().url(\"URL de logo inv\\xe1lida\").optional()\n});\nconst userUpdateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, \"El nombre debe tener al menos 2 caracteres\").max(50, \"El nombre no puede superar los 50 caracteres\").optional(),\n    image: zod__WEBPACK_IMPORTED_MODULE_0__.string().url(\"URL de imagen inv\\xe1lida\").optional(),\n    locale: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"es\",\n        \"ca\"\n    ]).optional()\n});\nconst signUpSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, \"El nombre debe tener al menos 2 caracteres\").max(50, \"El nombre no puede superar los 50 caracteres\"),\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email(\"Email inv\\xe1lido\"),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(8, \"La contrase\\xf1a debe tener al menos 8 caracteres\"),\n    role: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"user\",\n        \"org\"\n    ]).default(\"user\")\n});\nconst signInSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email(\"Email inv\\xe1lido\"),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"La contrase\\xf1a es requerida\")\n});\nconst forgotPasswordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email(\"Email inv\\xe1lido\")\n});\nconst resetPasswordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(8, \"La contrase\\xf1a debe tener al menos 8 caracteres\"),\n    token: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Token requerido\")\n});\nconst fileUploadSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    fileName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Nombre de archivo requerido\"),\n    fileType: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"Tipo de archivo requerido\"),\n    fileSize: zod__WEBPACK_IMPORTED_MODULE_0__.number().max(10 * 1024 * 1024, \"El archivo no puede superar los 10MB\")\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO1FBQVE7S0FBTSxFQUFFZ0IsT0FBTyxDQUFDO0FBQ3hDLEdBQUU7QUFFSyxNQUFNNEIsZUFBZTVDLHVDQUFRLENBQUM7SUFDbkN5QyxPQUFPekMsdUNBQVEsR0FBR3lDLEtBQUssQ0FBQztJQUN4QkMsVUFBVTFDLHVDQUFRLEdBQUdLLEdBQUcsQ0FBQyxHQUFHO0FBQzlCLEdBQUU7QUFFSyxNQUFNd0MsdUJBQXVCN0MsdUNBQVEsQ0FBQztJQUMzQ3lDLE9BQU96Qyx1Q0FBUSxHQUFHeUMsS0FBSyxDQUFDO0FBQzFCLEdBQUU7QUFFSyxNQUFNSyxzQkFBc0I5Qyx1Q0FBUSxDQUFDO0lBQzFDMEMsVUFBVTFDLHVDQUFRLEdBQUdLLEdBQUcsQ0FBQyxHQUFHO0lBQzVCMEMsT0FBTy9DLHVDQUFRLEdBQUdLLEdBQUcsQ0FBQyxHQUFHO0FBQzNCLEdBQUU7QUFFSyxNQUFNMkMsbUJBQW1CaEQsdUNBQVEsQ0FBQztJQUN2Q2lELFVBQVVqRCx1Q0FBUSxHQUFHSyxHQUFHLENBQUMsR0FBRztJQUM1QjZDLFVBQVVsRCx1Q0FBUSxHQUFHSyxHQUFHLENBQUMsR0FBRztJQUM1QjhDLFVBQVVuRCx1Q0FBUSxHQUFHTSxHQUFHLENBQUMsS0FBSyxPQUFPLE1BQU07QUFDN0MsR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3dvcmtob29wcy8uL2xpYi92YWxpZGF0aW9ucy50cz8wMDBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCJcblxuZXhwb3J0IGNvbnN0IG9wcG9ydHVuaXR5Q3JlYXRlU2NoZW1hID0gei5vYmplY3Qoe1xuICB0aXRsZTogei5zdHJpbmcoKS5taW4oNSwgXCJFbCB0w610dWxvIGRlYmUgdGVuZXIgYWwgbWVub3MgNSBjYXJhY3RlcmVzXCIpLm1heCgxMDAsIFwiRWwgdMOtdHVsbyBubyBwdWVkZSBzdXBlcmFyIGxvcyAxMDAgY2FyYWN0ZXJlc1wiKSxcbiAgdHlwZTogei5lbnVtKFtcImVtcGxlb1wiLCBcInBydWViYVwiLCBcInRvcm5lb1wiLCBcImNsaW5pY2FcIiwgXCJiZWNhXCIsIFwicGF0cm9jaW5pb1wiXSksXG4gIG9yZ2FuaXphdGlvbklkOiB6LnN0cmluZygpLmN1aWQoXCJJRCBkZSBvcmdhbml6YWNpw7NuIGludsOhbGlkb1wiKSxcbiAgbGV2ZWw6IHouZW51bShbXCJhbWF0ZXVyXCIsIFwic2VtaV9wcm9cIiwgXCJjYW50ZXJhXCIsIFwicHJvXCJdKSxcbiAgY2l0eTogei5zdHJpbmcoKS5taW4oMiwgXCJMYSBjaXVkYWQgZXMgcmVxdWVyaWRhXCIpLFxuICByZWdpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgY291bnRyeTogei5zdHJpbmcoKS5kZWZhdWx0KFwiRXNwYcOxYVwiKSxcbiAgbW9kYWxpdHk6IHouZW51bShbXCJwcmVzZW5jaWFsXCIsIFwib25saW5lXCIsIFwibWl4dGFcIl0pLmRlZmF1bHQoXCJwcmVzZW5jaWFsXCIpLFxuICByZW11bmVyYXRpb246IHoub2JqZWN0KHtcbiAgICBtaW46IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBtYXg6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBjdXJyZW5jeTogei5zdHJpbmcoKS5kZWZhdWx0KFwiRVVSXCIpLFxuICAgIHR5cGU6IHouZW51bShbXCJtb250aGx5XCIsIFwiYW5udWFsXCIsIFwicGVyX2V2ZW50XCJdKS5kZWZhdWx0KFwiYW5udWFsXCIpLFxuICB9KS5vcHRpb25hbCgpLFxuICBiZW5lZml0czogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5taW4oNTAsIFwiTGEgZGVzY3JpcGNpw7NuIGRlYmUgdGVuZXIgYWwgbWVub3MgNTAgY2FyYWN0ZXJlc1wiKSxcbiAgcmVxdWlyZW1lbnRzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGRlYWRsaW5lOiB6LnN0cmluZygpLmRhdGV0aW1lKCkub3B0aW9uYWwoKSxcbiAgdGFnczogei5hcnJheSh6LnN0cmluZygpKS5tYXgoMTAsIFwiTcOheGltbyAxMCBldGlxdWV0YXNcIikuZGVmYXVsdChbXSksXG59KVxuXG5leHBvcnQgY29uc3QgYXBwbGljYXRpb25DcmVhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG9wcG9ydHVuaXR5SWQ6IHouc3RyaW5nKCkuY3VpZChcIklEIGRlIG9wb3J0dW5pZGFkIGludsOhbGlkb1wiKSxcbiAgbWVzc2FnZTogei5zdHJpbmcoKS5taW4oMTAsIFwiRWwgbWVuc2FqZSBkZWJlIHRlbmVyIGFsIG1lbm9zIDEwIGNhcmFjdGVyZXNcIikubWF4KDEwMDAsIFwiRWwgbWVuc2FqZSBubyBwdWVkZSBzdXBlcmFyIGxvcyAxMDAwIGNhcmFjdGVyZXNcIiksXG59KVxuXG5leHBvcnQgY29uc3QgYXBwbGljYXRpb25VcGRhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHN0YXRlOiB6LmVudW0oW1wiZW52aWFkYVwiLCBcInZpc3RhXCIsIFwicmVjaGF6YWRhXCIsIFwiYWNlcHRhZGFcIl0pLFxufSlcblxuZXhwb3J0IGNvbnN0IG9yZ2FuaXphdGlvbkNyZWF0ZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKS5taW4oMiwgXCJFbCBub21icmUgZGViZSB0ZW5lciBhbCBtZW5vcyAyIGNhcmFjdGVyZXNcIikubWF4KDEwMCwgXCJFbCBub21icmUgbm8gcHVlZGUgc3VwZXJhciBsb3MgMTAwIGNhcmFjdGVyZXNcIiksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm1heCg1MDAsIFwiTGEgZGVzY3JpcGNpw7NuIG5vIHB1ZWRlIHN1cGVyYXIgbG9zIDUwMCBjYXJhY3RlcmVzXCIpLm9wdGlvbmFsKCksXG4gIGxvZ286IHouc3RyaW5nKCkudXJsKFwiVVJMIGRlIGxvZ28gaW52w6FsaWRhXCIpLm9wdGlvbmFsKCksXG59KVxuXG5leHBvcnQgY29uc3QgdXNlclVwZGF0ZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKS5taW4oMiwgXCJFbCBub21icmUgZGViZSB0ZW5lciBhbCBtZW5vcyAyIGNhcmFjdGVyZXNcIikubWF4KDUwLCBcIkVsIG5vbWJyZSBubyBwdWVkZSBzdXBlcmFyIGxvcyA1MCBjYXJhY3RlcmVzXCIpLm9wdGlvbmFsKCksXG4gIGltYWdlOiB6LnN0cmluZygpLnVybChcIlVSTCBkZSBpbWFnZW4gaW52w6FsaWRhXCIpLm9wdGlvbmFsKCksXG4gIGxvY2FsZTogei5lbnVtKFtcImVzXCIsIFwiY2FcIl0pLm9wdGlvbmFsKCksXG59KVxuXG5leHBvcnQgY29uc3Qgc2lnblVwU2NoZW1hID0gei5vYmplY3Qoe1xuICBuYW1lOiB6LnN0cmluZygpLm1pbigyLCBcIkVsIG5vbWJyZSBkZWJlIHRlbmVyIGFsIG1lbm9zIDIgY2FyYWN0ZXJlc1wiKS5tYXgoNTAsIFwiRWwgbm9tYnJlIG5vIHB1ZWRlIHN1cGVyYXIgbG9zIDUwIGNhcmFjdGVyZXNcIiksXG4gIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKFwiRW1haWwgaW52w6FsaWRvXCIpLFxuICBwYXNzd29yZDogei5zdHJpbmcoKS5taW4oOCwgXCJMYSBjb250cmFzZcOxYSBkZWJlIHRlbmVyIGFsIG1lbm9zIDggY2FyYWN0ZXJlc1wiKSxcbiAgcm9sZTogei5lbnVtKFtcInVzZXJcIiwgXCJvcmdcIl0pLmRlZmF1bHQoXCJ1c2VyXCIpLFxufSlcblxuZXhwb3J0IGNvbnN0IHNpZ25JblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoXCJFbWFpbCBpbnbDoWxpZG9cIiksXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbigxLCBcIkxhIGNvbnRyYXNlw7FhIGVzIHJlcXVlcmlkYVwiKSxcbn0pXG5cbmV4cG9ydCBjb25zdCBmb3Jnb3RQYXNzd29yZFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoXCJFbWFpbCBpbnbDoWxpZG9cIiksXG59KVxuXG5leHBvcnQgY29uc3QgcmVzZXRQYXNzd29yZFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDgsIFwiTGEgY29udHJhc2XDsWEgZGViZSB0ZW5lciBhbCBtZW5vcyA4IGNhcmFjdGVyZXNcIiksXG4gIHRva2VuOiB6LnN0cmluZygpLm1pbigxLCBcIlRva2VuIHJlcXVlcmlkb1wiKSxcbn0pXG5cbmV4cG9ydCBjb25zdCBmaWxlVXBsb2FkU2NoZW1hID0gei5vYmplY3Qoe1xuICBmaWxlTmFtZTogei5zdHJpbmcoKS5taW4oMSwgXCJOb21icmUgZGUgYXJjaGl2byByZXF1ZXJpZG9cIiksXG4gIGZpbGVUeXBlOiB6LnN0cmluZygpLm1pbigxLCBcIlRpcG8gZGUgYXJjaGl2byByZXF1ZXJpZG9cIiksXG4gIGZpbGVTaXplOiB6Lm51bWJlcigpLm1heCgxMCAqIDEwMjQgKiAxMDI0LCBcIkVsIGFyY2hpdm8gbm8gcHVlZGUgc3VwZXJhciBsb3MgMTBNQlwiKSxcbn0pXG5cbi8vIFR5cGUgZXhwb3J0c1xuZXhwb3J0IHR5cGUgT3Bwb3J0dW5pdHlDcmVhdGVJbnB1dCA9IHouaW5mZXI8dHlwZW9mIG9wcG9ydHVuaXR5Q3JlYXRlU2NoZW1hPlxuZXhwb3J0IHR5cGUgQXBwbGljYXRpb25DcmVhdGVJbnB1dCA9IHouaW5mZXI8dHlwZW9mIGFwcGxpY2F0aW9uQ3JlYXRlU2NoZW1hPlxuZXhwb3J0IHR5cGUgQXBwbGljYXRpb25VcGRhdGVJbnB1dCA9IHouaW5mZXI8dHlwZW9mIGFwcGxpY2F0aW9uVXBkYXRlU2NoZW1hPlxuZXhwb3J0IHR5cGUgT3JnYW5pemF0aW9uQ3JlYXRlSW5wdXQgPSB6LmluZmVyPHR5cGVvZiBvcmdhbml6YXRpb25DcmVhdGVTY2hlbWE+XG5leHBvcnQgdHlwZSBVc2VyVXBkYXRlSW5wdXQgPSB6LmluZmVyPHR5cGVvZiB1c2VyVXBkYXRlU2NoZW1hPlxuZXhwb3J0IHR5cGUgU2lnblVwSW5wdXQgPSB6LmluZmVyPHR5cGVvZiBzaWduVXBTY2hlbWE+XG5leHBvcnQgdHlwZSBTaWduSW5JbnB1dCA9IHouaW5mZXI8dHlwZW9mIHNpZ25JblNjaGVtYT5cbmV4cG9ydCB0eXBlIEZvcmdvdFBhc3N3b3JkSW5wdXQgPSB6LmluZmVyPHR5cGVvZiBmb3Jnb3RQYXNzd29yZFNjaGVtYT5cbmV4cG9ydCB0eXBlIFJlc2V0UGFzc3dvcmRJbnB1dCA9IHouaW5mZXI8dHlwZW9mIHJlc2V0UGFzc3dvcmRTY2hlbWE+XG5leHBvcnQgdHlwZSBGaWxlVXBsb2FkSW5wdXQgPSB6LmluZmVyPHR5cGVvZiBmaWxlVXBsb2FkU2NoZW1hPiJdLCJuYW1lcyI6WyJ6Iiwib3Bwb3J0dW5pdHlDcmVhdGVTY2hlbWEiLCJvYmplY3QiLCJ0aXRsZSIsInN0cmluZyIsIm1pbiIsIm1heCIsInR5cGUiLCJlbnVtIiwib3JnYW5pemF0aW9uSWQiLCJjdWlkIiwibGV2ZWwiLCJjaXR5IiwicmVnaW9uIiwib3B0aW9uYWwiLCJjb3VudHJ5IiwiZGVmYXVsdCIsIm1vZGFsaXR5IiwicmVtdW5lcmF0aW9uIiwibnVtYmVyIiwiY3VycmVuY3kiLCJiZW5lZml0cyIsImRlc2NyaXB0aW9uIiwicmVxdWlyZW1lbnRzIiwiZGVhZGxpbmUiLCJkYXRldGltZSIsInRhZ3MiLCJhcnJheSIsImFwcGxpY2F0aW9uQ3JlYXRlU2NoZW1hIiwib3Bwb3J0dW5pdHlJZCIsIm1lc3NhZ2UiLCJhcHBsaWNhdGlvblVwZGF0ZVNjaGVtYSIsInN0YXRlIiwib3JnYW5pemF0aW9uQ3JlYXRlU2NoZW1hIiwibmFtZSIsImxvZ28iLCJ1cmwiLCJ1c2VyVXBkYXRlU2NoZW1hIiwiaW1hZ2UiLCJsb2NhbGUiLCJzaWduVXBTY2hlbWEiLCJlbWFpbCIsInBhc3N3b3JkIiwicm9sZSIsInNpZ25JblNjaGVtYSIsImZvcmdvdFBhc3N3b3JkU2NoZW1hIiwicmVzZXRQYXNzd29yZFNjaGVtYSIsInRva2VuIiwiZmlsZVVwbG9hZFNjaGVtYSIsImZpbGVOYW1lIiwiZmlsZVR5cGUiLCJmaWxlU2l6ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/validations.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/oauth","vendor-chunks/uuid","vendor-chunks/yallist","vendor-chunks/cookie","vendor-chunks/@auth","vendor-chunks/@panva","vendor-chunks/oidc-token-hash","vendor-chunks/zod","vendor-chunks/dompurify","vendor-chunks/isomorphic-dompurify","vendor-chunks/entities","vendor-chunks/domutils","vendor-chunks/js-beautify","vendor-chunks/htmlparser2","vendor-chunks/peberminta","vendor-chunks/domhandler","vendor-chunks/dom-serializer","vendor-chunks/selderee","vendor-chunks/resend","vendor-chunks/parseley","vendor-chunks/leac","vendor-chunks/html-to-text","vendor-chunks/domelementtype","vendor-chunks/@selderee","vendor-chunks/@react-email","vendor-chunks/deepmerge"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fapplications%2Froute&page=%2Fapi%2Fapplications%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fapplications%2Froute.ts&appDir=%2Fapp%2Ffrontend%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Ffrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();